__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return _((0,n.default)(t))};var n=t(r(d[1])),o=r(d[2]);const c=Object.freeze(new Set(['_set_bev_on_new_domain','c','check-account-activation','drawer_open','fbclid','gad_source','gbraid','gclid','gclsrc','ghost','has_logged_out','localized_ghost','location_bb','logo','metadata_only','niobe_skip_prepare','pagination_search','redirect_params','refinement_paths','sem_automaid','sem_brand_erf','treatment_flags','utm_campaign','utm_content','utm_id','utm_medium','utm_source','utm_term','zoom']));function _(t){const n=new Map;for(const[_,s]of Object.entries(t??{})){if(c.has(_)||null==s||''===s)continue;const t=(0,o.convertToRawParamsFilterValues)(s);n.set(_,t)}return n}}),"0aff7d",["ba7a76","a7c4ef","294886"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExploreIsLeanTreatmentFlag=function(){return!1}}),"0d1817",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.SEARCH_RESULTS_REGEX=void 0,e.getRedirectUrl=function(t){const o=t.pathname;if('/s/homes'===o&&!t.search)return null;if(['/homes','/experiences','/services'].includes(o))return null;if(o.endsWith('/experiences/online'))return'/s/experiences';if(o.startsWith('/content/'))return'/';if(o.startsWith('/sfx/s/'))return o.replace('/sfx/s/','/s/');const _=b(o),u=x(t.search),E={..._,...u},p=E.refinement_paths,S=(0,l.getTabFromRefinementPaths)(p),T=t.search,L=(0,f.makeSearchPath)(E,{tabId:S});if((0,s.isOnlineExperiences)(E))return"/s/experiences";if(S===n.EXPLORE_TABS.HOMES||S===n.EXPLORE_TABS.EXPERIENCES||S===n.EXPLORE_TABS.SERVICES){return R(o)!==R(L)?`${L}${T}`:null}if(S===n.EXPLORE_TABS.SELECT_HOMES){u.tier_ids=[1],delete u.refinement_paths;return`${L}${decodeURIComponent((0,f.makeQueryStrings)(u))}`}if(S===n.EXPLORE_TABS.ADVENTURES){u.refinement_paths=['/experiences/KG/Tag:639'];const t=(0,h.default)(_,'location')?(0,c.locationToURLParameter)(_.location):'';return`${`/s${t?`/${t}`:''}/experiences`}${decodeURIComponent((0,f.makeQueryStrings)(u))}`}return'/'};var n=r(d[1]),s=r(d[2]),o=r(d[3]),c=r(d[4]),f=r(d[5]),_=r(d[6]),l=r(d[7]),u=t(r(d[8])),h=t(r(d[9]));const E=e.SEARCH_RESULTS_REGEX=/^\/s\/([^/]+)\/(homes|experiences|services)$/,p=Object.freeze({homes:{tab_id:'home_tab',refinement_paths:['/homes']},experiences:{tab_id:'experience_tab',refinement_paths:['/experiences']},services:{tab_id:'service_tab',refinement_paths:['/services']}}),S=t=>(0,h.default)(p,t);function R(t){return t.replace(E,'/s/:location/$2')}function x(t){const n=(0,u.default)(t);return n.refinement_paths&&!Array.isArray(n.refinement_paths)?{...n,refinement_paths:[n.refinement_paths]}:n}function b(t){if(['/','','/fallback-homepage'].includes(t))return{tab_id:'home_tab',refinement_paths:['/homes'],search_mode:'flex_destinations_search'};const n=E.exec(t);if(n&&S(n[2]))return{location:(0,o.locationFromURLParameter)(n[1]),...p[n[2]]};const s=(0,_.parseSearchLocationAndTab)(t);return null===s?{}:(s.location&&(s.location=(0,o.locationFromURLParameter)(s.location)),s)}}),"0ef88a",["ba7a76","87916a","eaa00e","5cf60b","4c8c74","9a2514","534227","aea415","a7c4ef","750095"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.priceTransparencyDisplayTreatmentFlag=function({flagger:t}){return'variant_1'===t.findTreatment((0,_.default)('price_transparency_total_price_display_us_2025_web'))?['price_transparency_total_price_display_us_2025_web_treatment']:[]};var _=t(r(d[1]))}),"10ea2d",["ba7a76","4d3544"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(n){return null==n?[]:Array.isArray(n)?n.flatMap(t):'string'==typeof n?[n]:[JSON.stringify(n)]}Object.defineProperty(e,"__esModule",{value:!0}),e.convertToRawParams=function(n){const s=[];return Object.keys(n).forEach((o=>{const u=t(n[o]);s.push({filterName:o,filterValues:u})})),s},e.convertToRawParamsFilterValues=t}),"294886",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.selectStaysFiltersForRequestDirect=function({location:t,formFactor:z,match:p,isReduceNetworkDataEnabled:u}){const f=(0,_.default)(t.search);f.set('cdn_cache_safe',['false']),f.set('version',[s.EXPLORE_TABS_API_VERSION]),f.set('screen_size',['compact'===z?'small':'large']),f.set('tab_id',['home_tab']),f.set('refinement_paths',['/homes']),f.set('items_per_grid',[u?'8':'18']),p?.params.location&&f.set('query',[(0,n.locationFromURLParameter)(p.params.location)]);f.has('query')||f.set('query',[]);return(0,l.sanitizeParam)(f,'adults',o),(0,l.sanitizeParam)(f,'infants',o),(0,l.sanitizeParam)(f,'children',o),(0,l.sanitizeParam)(f,'pets',o),(0,l.sanitizeParam)(f,'cause_id',o),(0,l.sanitizeParam)(f,'disaster_id',o),(0,l.sanitizeParam)(f,'items_offset',o),(0,l.sanitizeParam)(f,'min_bathrooms',o),(0,l.sanitizeParam)(f,'min_bedrooms',o),(0,l.sanitizeParam)(f,'min_beds',o),(0,l.sanitizeParam)(f,'min_trip_length',o),(0,l.sanitizeParam)(f,'monthly_length',o),(0,l.sanitizeParam)(f,'omni_page_id',o),(0,l.sanitizeParam)(f,'price_filter_input_type',o),(0,l.sanitizeParam)(f,'price_filter_num_nights',o),(0,l.sanitizeParam)(f,'price_max',o),(0,l.sanitizeParam)(f,'price_min',o),(0,l.sanitizeParam)(f,'zoom_level',o),(0,l.sanitizeParam)(f,'tier_ids',o),(0,l.sanitizeParam)(f,'flexible_date_search_filter_type',P),(0,l.sanitizeParam)(f,'monthly_dial_flexible_start_date_search_filter_type',P),(0,l.sanitizeParam)(f,'monthly_dial_flexible_end_date_search_filter_type',P),(0,l.sanitizeParam)(f,'amenities',(0,l.integer)({throwError:!0}),{multiple:!0}),(0,l.sanitizeParam)(f,'listing_types',o,{multiple:!0}),(0,l.sanitizeParam)(f,'l2_property_type_id',o,{multiple:!0}),(0,l.sanitizeParam)(f,'guest_favorite',c),(0,l.sanitizeParam)(f,'ib',c),(0,l.sanitizeParam)(f,'search_by_map',c),(0,l.sanitizeParam)(f,'update_selected_filters',c),f};var s=r(d[1]),n=r(d[2]),_=t(r(d[3])),l=r(d[4]);const o=(0,l.integer)(),c=(0,l.boolean)(),P=(0,l.integer)({minimum:0})}),"37a7ab",["ba7a76","87916a","5cf60b","0aff7d","aca489"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,...n){if(null==t)return{};const u=new Set(n.flat().map(String));return Object.fromEntries(Object.entries(t||{}).filter((([t])=>!u.has(t))))}}),"3d4f9e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locationToURLParameter=function(n){return n?encodeURIComponent(n.replace(/[[\]()\\?./-]/g,(n=>c[n])).replace(/\s+/g,' ').replace(/, ?/g,'--').replace(/ /g,'-')):''};const c={'[':'',']':'','(':'',')':'','\\':'','?':'','.':'%2E','/':' ','-':'~'}}),"4c8c74",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.manageTreatmentFlagsWithUpfrontPricingFlag=function(t){return w(t,!!h.default.current().enable_upfront_pricing)},e.manageTreatmentFlagsWithUpfrontPricingFlagForPrepare=function(t,n){let o=!1;const u=n('_user_attributes');try{o=JSON.parse(decodeURIComponent(u||'')).enable_upfront_pricing}catch(t){}return w(t,o)},e.maybeRemoveUpfrontPricingParamsFromUrl=function(){requestIdleCallback((()=>{const t=h.default.current().enable_upfront_pricing;void 0!==t&&(0,u.airdogCount)('search.upfront_pricing.access_with_cookie',1,`value: ${t}`)}));(0,p.default)()[P]&&(0,s.getHistory)().replace(T())},e.setEnableUpfrontPricing=async function(t){return await(_.default.getBootstrap('api_web_client_migration.fejax.enabled')&&!_.default.getBootstrap('api_web_client_migration.fejax.pricing_guest.kill_switch')?(0,f().logMigration)(l().default.get("/_/core-guest-loop/upfront-pricing",{searchParams:{enable_upfront_pricing:t?'true':'false'}}),{method:'GET',client:'niobe',migrationId:'pricing_guest',group:'fejax'}):(0,f().logMigration)(c.default.ajax("/_/core-guest-loop/upfront-pricing?enable_upfront_pricing="+(t?'true':'false'),{dataType:'json',processResponse:!1}),{method:'GET',client:'fejax',migrationId:'pricing_guest',group:'fejax'})),h.default.setCurrent({...h.default.current(),enable_upfront_pricing:t}),Promise.resolve()},e.shouldShowUpfrontPricingBanner=function(t){if(_.default.getBootstrap('pricing_upfront_pricing_2022_toggle_killswitch')||t)return!1;if(U())return!1;return!0};var o=t(r(d[2])),u=r(d[3]),c=t(r(d[4]));function l(){const n=t(r(d[5]));return l=function(){return n},n}function f(){const t=r(d[6]);return f=function(){return t},t}var p=t(r(d[7])),s=r(d[8]),_=t(r(d[9])),b=t(r(d[10])),h=t(r(d[11]));const P='enable_upfront_pricing',I='upfront_pricing_enabled',E=['AT','BE','BG','HR','CY','CZ','DK','EE','FI','FR','DE','GR','IE','IT','LV','LT','LU','MT','NL','PL','PT','RO','SK','SI','ES','SE','GB','IS','LI','NO','AU','KR','CH','HU','CA','IL','CN','NZ'];function T(){const t=(0,p.default)(),{pathname:o,hash:u}=window.location,c={...t};delete c[P];return`${o}?${(0,n().stringify)(c)}${u}`}function U(){return!(!E.includes(o.default.country())&&!E.includes(o.default.tld_country()))}function w(t,n){let o=t;return n||(o=t.filter((t=>t!==I))),n&&!t.includes(I)&&(o=[...t,I]),o.filter(b.default)}}),"74d137",["ba7a76","e950a3","862e50","3e4681","c3984f","69a7c4","7c530a","a7c4ef","7934b6","c235f8","58861b","06a99e"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.logMigration=function(t,c){return Promise.resolve(t).then((()=>u({...c,result:'success'}))).catch((t=>{u({...c,result:'error',responseStatus:t?.status,noError:!t}),o.default.getBootstrap('niobe.rest.error_logging.kill_switch')||!t||t.status&&200!==t.status||((0,s.airdogCount)('rest_migration.debug',1,{...c,responseStatus:t.status,responseStatusText:t.statusText,message:t.message||'',name:t.name||''}),(0,n().reportNiobeError)(t,{fingerprint:['niobe'],tags:{...c}}))})).catch((()=>{})),t};var s=r(d[1]),o=t(r(d[2]));function n(){const t=r(d[3]);return n=function(){return t},t}function u(t){(0,s.airdogCount)('rest_migration.request',1,t)}}),"7c530a",["ba7a76","3e4681","c235f8","e2d715"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertMapToRawParams=function(t){return[...t.entries()].sort((([t],[o])=>t.localeCompare(o))).map((([t,o])=>({filterName:t,filterValues:o})))}}),"8f80d2",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.clearGlobalRehydrationCache=function(){const t=y();t.searchResults=null,t.mapSearchResults=null},e.getGlobalRehydrationCache=y,e.getRehydratableListingIds=function({searchResults:t,mapSearchResults:n}){if(!(null!=t&&0!==t?.length||null!=n&&0!==n?.length))return o;const s=new Set,h=[...t||[],...n||[]]?.map((t=>('ExploreSplitStaysListingItem'===t.__typename&&t?.splitStaysListings?.forEach((t=>{null!=t?.id&&s.add(t.id)})),'SkinnyListingItem'===t?.__typename?t.listingId:'StaySearchResult'===t?.__typename?(0,u.hasError)(t.demandStayListing)?null:t.demandStayListing?.id?(0,l.getInternalId)(t.demandStayListing.id):'':null))).filter(c.default),y=new Set(h);return s.forEach((t=>y.delete(t))),Array.from(y)},e.getVariablesWithoutRehydrationIDs=function(t){if(null==t)return;const n={...t,staysSearchRequest:{...t.staysSearchRequest},staysMapSearchRequestV2:{...t.staysMapSearchRequestV2}};return delete n?.staysSearchRequest?.skipHydrationListingIds,delete n?.staysMapSearchRequestV2?.skipHydrationListingIds,n},e.rehydrateFeedSearchResults=function({searchResultsContainingSkinnyListings:t,previousSearchResults:n,previousMapSearchResults:l}){let u=!0;const o=S(n,l),h=t?.map((t=>{if('SkinnyListingItem'===t.__typename){if(null==t.listingId)return null;const n=o.get(t.listingId);return null==n?(u=!1,null):n}return t})).filter(c.default);u||(0,s.reportError)(new Error('StaysSearchRoute.rehydrateFeedSearchResults: Could not rehydrate all search results. '));return h},e.rehydrateMapSearchResults=function({mapSearchResultsContainingSkinnyListings:t,previousSearchResults:n,previousMapSearchResults:l}){let u=!0;const o=S(n,l),h=t?.map((t=>{if('SkinnyListingItem'===t.__typename){if(null==t.listingId)return null;const n=o.get(t.listingId);return null==n?(u=!1,null):n}return t})).filter(c.default)||null;u||(0,s.reportError)(new Error('StaysSearchRoute.rehydrateMapSearchResults: Could not rehydrate all search results. '));return h};var n=t(r(d[1])),s=r(d[2]),l=r(d[3]),u=r(d[4]),c=t(r(d[5]));const o=[],h='stays_search_rehydration_cache';function y(){return n.default.setIfMissingThenGet(h,(()=>({searchResults:null,mapSearchResults:null})))}function S(t,n){const s=new Map;return[...t||[],...n||[]].forEach((t=>{'StaySearchResult'!==t?.__typename||(0,u.hasError)(t.demandStayListing)||null==t.demandStayListing?.id||s.set((0,l.getInternalId)(t.demandStayListing?.id),t)})),s}}),"926f8b",["ba7a76","29c0a5","f2f40f","56afe0","8ad8fb","58861b"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const o=t(r(d[1]));return n=function(){return o},o}Object.defineProperty(e,"__esModule",{value:!0}),e.makeQueryStrings=S,e.makeSearchPath=R,e.makeSearchURI=function(t,n={}){if((0,u.isOnlineExperiences)(t))return'/s/experiences';const o=t;0===o.section_offset&&delete o.section_offset;0===o.items_offset&&delete o.items_offset;const{tabId:c}=n;o.tab_id&&o.tab_id!==c&&(o.tab_id=c);let l=R(t,n);return l+=S(o),l};var o=r(d[2]),c=r(d[3]),l=t(r(d[4])),u=r(d[5]),s=r(d[6]),_=r(d[7]);const f=Object.freeze(['location','baseUrl']),E=[...f,'query'];function S(t){const o=(0,l.default)(t,t.location?f:E);L(t)&&(o.category_tag='Tag:8253',delete o.tier_ids);const c=n().default.stringify(o,{arrayFormat:'brackets'});return c.length>0?`?${c}`:''}function T(t,n){return('flex_destinations_search'===t.search_mode||n===o.EXPLORE_TABS.HOMES&&null==t.search_mode)&&null==t.location&&null==t.query&&null==t.place_id&&!(null!=t.omni_page_id&&null!=t.dynamic_product_ids)&&null==t.host_id&&'NEARBY'!==t.location_search}function R(t,n={}){const{tabId:c}=n,l=P(t,c);if(T(t,l))return'/';if(L(t))return'/';let u='/s';return t.location&&(0,s.locationToURLParameter)(t.location)?u+=`/${(0,s.locationToURLParameter)(t.location)}`:t.query&&(0,s.locationToURLParameter)(t.query)&&(u+=`/${(0,s.locationToURLParameter)(t.query)}`),l&&(u+=`/${o.TAB_PATHS[l]}`),u}function L(t){return!!t.tier_ids?.includes(c.TIER_IDS.LUXURY)&&!t.query&&!t.place_id}function P(t,n){const c=t.refinement_paths;let l=(0,_.getTabFromRefinementPaths)(c)||n;return n!==o.EXPLORE_TABS.ALL&&n!==o.EXPLORE_TABS.SELECT_HOMES&&n!==o.EXPLORE_TABS.FLIGHTS||(l=o.EXPLORE_TABS.HOMES),n===o.EXPLORE_TABS.ADVENTURES&&(l=o.EXPLORE_TABS.EXPERIENCES),l??void 0}}),"9a2514",["ba7a76","e950a3","87916a","bcda48","3d4f9e","eaa00e","4c8c74","aea415"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1]));const o={document:void 0,getDocument:()=>r(d[3])(d[2]).then(n.default).then((t=>t.default)),name:'StaysSearch',type:'query',operationId:'f580a5d74bce8912fc96740f8ded51b8cdf084e5058cc38f464f85997b3907d6',caughtItemsLocators:[{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"searchResults"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"searchResults"},{typeCondition:["OnlyOnStaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"alertSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"alertSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"bottomSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"bottomSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"pageTitleSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"pageTitleSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"topSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"topSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"footerSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"footerSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"interleavedSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"interleavedSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["ConditionalSectionDataContainer","HelpCenterSectionDataContainer","InterleavedSectionDataContainer","MediationSectionDataContainer","SectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"interleavedSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["InterleavedSectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsCarouselSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"results"},{typeCondition:["StaysSearchResponse"],responseKey:"sectionConfiguration"},{typeCondition:["StaysSearchSectionConfiguration"],responseKey:"interleavedSections"},{typeCondition:["PlacementPerFormFactor"],responseKey:"sections"},{typeCondition:["InterleavedSectionDataContainer"],responseKey:"sectionData"},{typeCondition:["StaysListingsGroupingSection"],responseKey:"listingItems"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]},{itemsLocation:[{typeCondition:["Query"],responseKey:"presentation"},{typeCondition:["RootPresentationContainer"],responseKey:"staysSearch"},{typeCondition:["StaysSearchPresentation"],responseKey:"mapResults"},{typeCondition:["StaysMapSearchResponse"],responseKey:"mapSearchResults"},{typeCondition:["StaySearchResult"],responseKey:"demandStayListing"}]}]};e.default=o}),"a06569",["ba7a76","45f788","68b1a1","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({location:t,match:h,cookie:p,loadQuery:R,exploreTreatments:_,getRenderingState:b,customPrepareNiobeData:k,flagger:v,previousPrepareProps:C}){const{deviceUsagePreferences:P,formFactor:S=s.DEFAULT_FORM_FACTOR,isBotRequest:T,isCJK:F}=k||{},{isReduceNetworkDataEnabled:D}=P||{},E=(0,c.createTaskController)(),O=(0,l.default)(t.search),U=null==O.search_type||O.search_type===o.SearchType.USER_MAP_MOVE&&null!=C,q=C?.queryRef?.result?.data?.presentation?.staysSearch?.results?.categoryBar?.categoryBarCacheId,B=(0,u.default)({categoryBarCacheId:q,cookie:p,exploreTreatments:_,getRenderingState:b,location:t,match:h,formFactor:S,flagger:v,isReduceNetworkDataEnabled:D,previousListingIds:U?(0,y.getRehydratableListingIds)((0,y.getGlobalRehydrationCache)()):void 0}),I=(0,n.getRedirectUrl)(t),M=!T;return{queryRef:R({context:{taskController:E},signal:E?.signal,variables:B,query:f.default,deferrable:M,usePOSTForQuery:!0,skip:null!=I}),showDeferredSkeleton:M,redirectUrl:I,isCJK:F}};var o=r(d[1]),s=r(d[2]),l=t(r(d[3])),c=r(d[4]),n=r(d[5]),u=t(r(d[6])),f=t(r(d[7])),y=r(d[8])}),"a829bd",["ba7a76","6660fd","b679e8","a7c4ef","a2c93f","0ef88a","a8e410","a06569","926f8b"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({categoryBarCacheId:t,location:y,formFactor:F,isReduceNetworkDataEnabled:P,previousListingIds:R,cookie:w,flagger:L,match:M}){const A=(0,c.default)(y.search),{mock:I}=A,N=F===o.FORM_FACTOR.COMPACT,S=[...p.P2_MAP_FEED_DECOUPLING_TREATMENT_FLAGS,...p.LAUNCHED_ERF_TREATMENT_FLAGS,...(0,T.priceTransparencyDisplayTreatmentFlag)({flagger:L}),...(0,f.p25LayoutUpdateTreatmentFlag)({flagger:L,isCompact:N,params:A})],k=(0,l.manageTreatmentFlagsWithUpfrontPricingFlagForPrepare)(S,w),v='treatment'===L.findTreatment((0,n.default)('wishlist_tenant_integration_web'));if(I)return{mockIdentifier:`ExplorePresentation/${I}`,isLeanTreatment:(0,_.getExploreIsLeanTreatmentFlag)(),skipExtendedSearchParams:!1,wishlistTenantIntegrationEnabled:v};const x=(0,h.selectStaysFiltersForRequestDirect)({location:y,formFactor:F,match:M,isReduceNetworkDataEnabled:P}),C={};for(const t of E)x.has(t)&&(C[t]=x.get(t)?.[0],x.delete(t));const D={autosuggestionsOptions:C.autosuggestions_options,cursor:C.cursor,metadataOnly:!1,requestedPageType:'STAYS_SEARCH',satoriVersion:C.satori_version,searchType:C.search_type,source:C.source,treatmentFlags:k};R&&R?.length>0&&'user_map_move'===C.search_type&&(D.skipHydrationListingIds=R);const O=(0,s.convertMapToRawParams)(x).map((t=>({filterName:(0,u.default)(t.filterName),filterValues:t.filterValues}))),b={...D,maxMapItems:P?16:9999,rawParams:O},V=new Map(x);P?V.set('items_per_grid',['8']):V.delete('items_per_grid');const q={...D,rawParams:(0,s.convertMapToRawParams)(V).map((t=>({filterName:(0,u.default)(t.filterName),filterValues:t.filterValues})))};return{staysSearchRequest:b,staysMapSearchRequestV2:q,isLeanTreatment:(0,_.getExploreIsLeanTreatmentFlag)(),skipExtendedSearchParams:!1,wishlistTenantIntegrationEnabled:v}};var s=r(d[1]),n=t(r(d[2])),o=r(d[3]),l=r(d[4]),c=t(r(d[5])),_=r(d[6]),p=r(d[7]),u=t(r(d[8])),f=r(d[9]),T=r(d[10]),h=r(d[11]);const E=['autosuggestions_options','cursor','max_categories','max_map_items','metadata_only','raw_params','requested_page_type','satori_version','skip_hydration_listing_ids','search_type','source','treatment_flags']}),"a8e410",["ba7a76","8f80d2","4d3544","b679e8","74d137","a7c4ef","0d1817","f36c5b","fd0757","c817a4","10ea2d","37a7ab"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.integer=e.boolean=void 0,e.sanitizeParam=function(t,n,o,{multiple:u}={}){if(!t.has(n))return;const f=[];for(const l of t.get(n)??[]){const t=o(l);if(t&&(f.push(t),!u))break}f.length>0?t.set(n,f):t.delete(n)};var n=t(r(d[1]));e.integer=({throwError:t,minimum:o=1}={})=>u=>{const f=Number(u);if(Number.isFinite(f)&&f>=o)return Number.isInteger(f)?u:Math.trunc(f).toString();if(t)throw new n.default('/404',404)};e.boolean=({default:t}={})=>n=>{if(null==t||n!==t)return'true'===n||'false'===n?n:void 0}}),"aca489",["ba7a76","cfeceb"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIER_TYPES=e.TIER_IDS=e.PDP_URL_TYPES=e.PDP_TYPES=void 0,e.getTier=function(E){switch(E){case P.LUXURY:return L.LUXURY;case P.PLUS:return L.PLUS;case P.MARKETPLACE:default:return L.MARKETPLACE}};let L=e.TIER_TYPES=(function(L){return L.LUXURY="luxury",L.PLUS="plus",L.MARKETPLACE="marketplace",L})({}),P=e.TIER_IDS=(function(L){return L[L.LUXURY=2]="LUXURY",L[L.PLUS=1]="PLUS",L[L.MARKETPLACE=0]="MARKETPLACE",L})({});e.PDP_TYPES=(function(L){return L.MARKETPLACE="MARKETPLACE",L.PLUS="PLUS",L.HOTEL="HOTEL",L.LUXE="LUXE",L})({}),e.PDP_URL_TYPES=(function(L){return L.ROOMS="ROOMS",L.ROOMS_PLUS="ROOMS_PLUS",L.HOTELS="HOTELS",L.LUXURY_LISTINGS="LUXURY_LISTINGS",L})({})}),"bcda48",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.p25LayoutUpdateTreatmentFlag=function({flagger:t,isCompact:n,params:s}){if(!s.omni_page_id)return[];return(n?'treatment'===t.findTreatment((0,_.default)('hawaii_p2_5_visual_refresh_phase_1_moweb')):'treatment'===t.findTreatment((0,_.default)('hawaii_p2_5_visual_refresh_phase_1_desktop')))?['homes_p25_refresh_2025_treatment']:[]};var _=t(r(d[1]))}),"c817a4",["ba7a76","4d3544"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isOnlineExperiences=function(I){if((0,_.getTabIdFromFilters)(I)!==E.EXPLORE_TABS.EXPERIENCES)return!1;return S(I)||I.kg_or_tag===t||I.kg_or_tags?.includes(t)};var E=r(d[0]),_=r(d[1]);const t='Tag:6951',I=['Tag:7983','Tag:8020','Tag:8059'],n=Object.freeze(['EXPERIENCES_JUST_ADDED_GROUPING','EXPERIENCES_SELECTED_TIME_TYPE_GROUPING','EXPERIENCES_SELECTED_TAGS_GROUPING','EXPERIENCES_TOP_BOOKED_ONLINE_GROUPING','EXPERIENCES_TAXONOMY_PERSONALIZATION','EXPERIENCES_GEO_LEADERBOARD','EXPERIENCES_CONTINUE_BROWSING','EXPERIENCES_PERSONALIZED_CO_BOOKS','EXPERIENCES_BOOK_AGAIN','EXPERIENCES_UPCOMING_DESTINATION','EXPERIENCES_PRIVATE_BOOKING','EXPERIENCES_TEST_RUN','EXPERIENCES_SERIES','EXPERIENCES_CONTINUE_SERIES','EXPERIENCES_WISHLIST']);function N(E,_){return!!E?.some((E=>{const t=E?.split('/');if(!t||!E?.includes('/section'))return!1;const I=t[t.length-1].split(':')[0];return _.includes(I)}))}function S(E){return _=E.refinement_paths,S=[t,...I],!!_?.some((E=>{const _=E?.split('/');if(!_||0===_.length)return!1;const t=_[_.length-1],I=new Set(t.split(','));return S.some((E=>I.has(E)))}))||N(E.refinement_paths,n);var _,S}}),"eaa00e",["87916a","aea415"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.P2_MAP_FEED_DECOUPLING_TREATMENT_FLAGS=e.LAUNCHED_ERF_TREATMENT_FLAGS=void 0;e.P2_MAP_FEED_DECOUPLING_TREATMENT_FLAGS=['feed_map_decouple_m11_treatment'],e.LAUNCHED_ERF_TREATMENT_FLAGS=['recommended_amenities_2024_treatment_b','filter_redesign_2024_treatment','filter_reordering_2024_roomtype_treatment','p2_category_bar_removal_treatment','selected_filters_2024_treatment','recommended_filters_2024_treatment_b','m13_search_input_phase2_treatment','m13_search_input_services_enabled']}),"f36c5b",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/stays-search/routes/StaysSearchRoute/StaysSearchRoute.prepare.80445d7f2b.js.map