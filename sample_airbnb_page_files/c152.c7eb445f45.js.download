__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.queryToOperationOptions=function(t){return{type:'graphql',operation:t.query,variables:void 0,fetchPolicy:'cache-first',errorPolicy:'all',dedupePolicy:'dedupe-inflight',usePOSTForQuery:!1,context:{},skip:!1,notifyOnNetworkStatusChange:!1,deferrable:!1,headers:{},...t,queryRef:void 0}}}),"043517",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeParameterizizedFieldCacheKey=function({parentKey:n,parameterizedFields:c,variables:u}){return`${n}/${c}:${u?JSON.stringify((0,t().convertToStableObjectOrder)(u)):''}`}}),"05fe62",["fad99e"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutSignalTransform=function(n){const{timeout:o,multiAbortController:u}=n,c=(0,t().createTimeoutSignal)(o);c&&u.addSufficientSignal(c);return n}}),"096956",["a9e08c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.skipResolver=function(s){if(s.skip)return t};const t={data:void 0,skip:!0}}),"0c3d76",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function o(){const n=r(d[0]);return o=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.getNiobeError=function(n=[],t=null){if(!n.length&&!t)return;return{name:'GraphQL errors',message:n.map((o=>o.message)).join(' '),graphQLErrors:n,networkError:t,localizedTitle:(0,o().getLocalizedTitleFromGraphQLErrors)(n),localizedMessage:(0,o().getLocalizedMessageFromGraphQLErrors)(n),extraInfo:null}}}),"0f426d",["e38e79"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logRetryCount=function(n,t,c,o){const s={view_name:o,is_legacy:c};t?n.increment('airlock.niobe.retrier.success',1,s):n.increment('airlock.niobe.retrier.failure',1,s)}}),"10cc07",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visit=function(n,f){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,u=void 0,p=Array.isArray(n),y=[n],D=-1,h=[],T=void 0,b=void 0,V=void 0,E=[],A=[],S=n;do{var O=++D===y.length,j=O&&0!==h.length;if(O){if(b=0===A.length?void 0:E[E.length-1],T=V,V=A.pop(),j){if(p)T=T.slice();else{for(var x={},I=0,k=Object.keys(T);I<k.length;I++){var F=k[I];x[F]=T[F]}T=x}for(var N=0,_=0;_<h.length;_++){var w=h[_][0],K=h[_][1];p&&(w-=N),p&&null===K?(T.splice(w,1),N++):T[w]=K}}D=u.index,y=u.keys,h=u.edits,p=u.inArray,u=u.prev}else{if(b=V?p?D:y[D]:void 0,null==(T=V?V[b]:S))continue;V&&E.push(b)}var B,C=void 0;if(!Array.isArray(T)){if(!(0,o.isNode)(T))throw new Error("Invalid AST Node: ".concat((0,t.default)(T),"."));var L=c(f,T.kind,O);if(L){if((C=L.call(f,T,b,V,E,A))===l)break;if(!1===C){if(!O){E.pop();continue}}else if(void 0!==C&&(h.push([b,C]),!O)){if(!(0,o.isNode)(C)){E.pop();continue}T=C}}}if(void 0===C&&j&&h.push([b,T]),O)E.pop();else u={inArray:p,index:D,keys:y,edits:h,prev:u},y=(p=Array.isArray(T))?T:null!==(B=v[T.kind])&&void 0!==B?B:[],D=-1,h=[],V&&A.push(V),V=T}while(void 0!==u);0!==h.length&&(S=h[h.length-1][1]);return S},e.visitInParallel=function(n){var t=new Array(n.length);return{enter:function(o){for(var s=0;s<n.length;s++)if(null==t[s]){var f=c(n[s],o.kind,!1);if(f){var v=f.apply(n[s],arguments);if(!1===v)t[s]=o;else if(v===l)t[s]=l;else if(void 0!==v)return v}}},leave:function(o){for(var s=0;s<n.length;s++)if(null==t[s]){var f=c(n[s],o.kind,!0);if(f){var v=f.apply(n[s],arguments);if(v===l)t[s]=l;else if(void 0!==v&&!1!==v)return v}}else t[s]===o&&(t[s]=null)}}},e.getVisitFn=c,e.BREAK=e.QueryDocumentKeys=void 0;var n,t=(n=r(d[0]))&&n.__esModule?n:{default:n},o=r(d[1]);var s={Name:[],Document:['definitions'],OperationDefinition:['name','variableDefinitions','directives','selectionSet'],VariableDefinition:['variable','type','defaultValue','directives'],Variable:['name'],SelectionSet:['selections'],Field:['alias','name','arguments','directives','selectionSet'],Argument:['name','value'],FragmentSpread:['name','directives'],InlineFragment:['typeCondition','directives','selectionSet'],FragmentDefinition:['name','variableDefinitions','typeCondition','directives','selectionSet'],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:['values'],ObjectValue:['fields'],ObjectField:['name','value'],Directive:['name','arguments'],NamedType:['name'],ListType:['type'],NonNullType:['type'],SchemaDefinition:['description','directives','operationTypes'],OperationTypeDefinition:['type'],ScalarTypeDefinition:['description','name','directives'],ObjectTypeDefinition:['description','name','interfaces','directives','fields'],FieldDefinition:['description','name','arguments','type','directives'],InputValueDefinition:['description','name','type','defaultValue','directives'],InterfaceTypeDefinition:['description','name','interfaces','directives','fields'],UnionTypeDefinition:['description','name','directives','types'],EnumTypeDefinition:['description','name','directives','values'],EnumValueDefinition:['description','name','directives'],InputObjectTypeDefinition:['description','name','directives','fields'],DirectiveDefinition:['description','name','arguments','locations'],SchemaExtension:['directives','operationTypes'],ScalarTypeExtension:['name','directives'],ObjectTypeExtension:['name','interfaces','directives','fields'],InterfaceTypeExtension:['name','interfaces','directives','fields'],UnionTypeExtension:['name','directives','types'],EnumTypeExtension:['name','directives','values'],InputObjectTypeExtension:['name','directives','fields']};e.QueryDocumentKeys=s;var l=Object.freeze({});function c(n,t,o){var s=n[t];if(s){if(!o&&'function'==typeof s)return s;var l=o?s.leave:s.enter;if('function'==typeof l)return l}else{var c=o?n.leave:n.enter;if(c){if('function'==typeof c)return c;var f=c[t];if('function'==typeof f)return f}}}e.BREAK=l}),"13916e",["3c8201","79eeb6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,n.openSignupOrLoginModal)({authTriggerType:o.AuthTriggerTypes.RECAPTCHA,onFinishedFlow:()=>window.location.reload(),onModalClose:()=>window.location.reload()})};var o=r(d[0]),n=r(d[1])}),"178cf3",["5eb3f8","4798c3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){var f=u.prototype.toJSON;'function'==typeof f||(0,t.default)(0),u.prototype.inspect=f,o.default&&(u.prototype[o.default]=f)};var t=u(r(d[0])),o=u(r(d[1]));function u(t){return t&&t.__esModule?t:{default:t}}}),"1a078f",["85ed97","4cb7dd"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyPathValue=function(t,u){return u[t]}}),"1e477a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.handleAirlockError=function({airlock:o,onSuccess:n,onError:t,error:l}){c.default.emit('airlock:niobe:trigger',{airlock:o,onSuccess:n,onError:t,error:l})};var c=o(r(d[1]))}),"1fbf90",["ba7a76","abc3e4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.redirectToAirlockIfGhostingAppeal=function(l,c){const p=(0,t.getGraphqlGhostingAppealUri)(l);if(p)return c&&(0,o.logRetrierCancelled)(c,'ghostingAppeal'),(0,n.redirectToAirlock)(p),!0;return!1};var t=r(d[0]),o=r(d[1]),n=r(d[2])}),"24be2a",["81c2d5","40f641","e91c21"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.airlockRetrier=function(y,E,v,p){const h=void 0;if((0,R.redirectToAirlockIfGhostingAppeal)(p,y))return;let A=null;A=p?.data?.client_error_info?(0,t.extractAirlockData)(p.data):(0,l.extractGraphqlAirlockError)(p.error?.graphQLErrors)||(0,t.extractAirlockData)(p);if(!A)return;(0,u.logAirlockLifecycleEvent)('RECEIVED_BY_FRONTEND',A);const _=(0,t.isLegacyAirlock)(A),q=(0,t.getAirlockId)(A)??void 0,L=(0,c.extractViewName)(A,_);if((0,k.redirectToAirlockIfFullpage)(A,y))return;return{context:new Promise((t=>{(0,o.handleAirlockError)({airlock:A,onSuccess:()=>{if((0,f.logRetryCount)(y,!0,_,L),_&&!A.should_replay_request)return(0,s.logRequestReplayEvent)('requestNotReplayed',{jitneyLogger:E,airlockId:q,viewName:L??void 0,fetchUrl:v.fetchUrl}),void t(h);(0,s.logRequestReplayEvent)('waitForRequestReplay',{jitneyLogger:E,airlockId:q,viewName:L??void 0,fetchUrl:v.fetchUrl}),(0,u.logAirlockLifecycleEvent)('REQUEST_REPLAYED',A),t({fetchOptions:{headers:(0,n.getReplayAirlockHeader)(A)},airlockView:L})},onError:()=>{(0,f.logRetryCount)(y,!1,_,L),(0,s.logRequestReplayEvent)('requestNotReplayed',{jitneyLogger:E,airlockId:q,viewName:L??void 0,fetchUrl:v.fetchUrl}),t(h)},error:p})})),reason:'airlock'}};var t=r(d[0]),o=r(d[1]),l=r(d[2]),c=r(d[3]),n=r(d[4]),u=r(d[5]),s=r(d[6]),f=r(d[7]),k=r(d[8]),R=r(d[9])}),"24eb52",["1700a4","1fbf90","5895b2","8cd0d8","5ab9aa","593e28","33b938","10cc07","9f2c9e","24be2a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildAirlockPermitV2Header=function(){return{[t.AIRLOCK_PERMIT_V2_HEADER]:'true'}};var t=r(d[0])}),"25f264",["f3d6f1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseServerTiming=function(t){if(!t)return;return t.split(',').map((t=>t.trim())).reduce(((t,n)=>{const[s,...u]=n.split(';'),c=s.trim().replaceAll(/"/g,''),l={};return u.forEach((t=>{if(!t.includes('='))return;const[n,s]=t.trim().split('=');if(!n)return;const u=parseFloat(s);Number.isNaN(u)?l[n]=s.replace(/^"|"$/g,''):l[n]=u})),c&&(t[c]=l),t}),{})}}),"2f6e7b",[]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var n=e.UniversalNiobeResponseEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalNiobeResponseEvent:1.0.0',event_name:'universal_niobe_response'},propTypes:{}};n.fullyQualifiedName='Universal.v1.UniversalNiobeResponseEvent';e.UniversalNiobeResponseEventEvent=function(s){return{eventData:s,eventDataSchema:n}}}),"31bc12",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.logAirlockLifecycleEvent=function(t,_){const v=(0,c.isLegacyAirlock)(_),E=(0,c.getAirlockId)(_)??void 0;if(!E)return;o.default.logJitneyEvent({schema:n().AirlockPlatformAirlockLifecycleEvent,event_data:{event_type:l[t],event_data:{airlock_id:E},lifecycle_event_meta:{platform_version:v?'v1':'v2'}}})};var c=r(d[2]),o=t(r(d[3]));const l={RECEIVED_BY_FRONTEND:3,FULL_PAGE_REDIRECT:4,REQUEST_REPLAYED:18}}),"326f53",["ba7a76","774d63","1700a4","c8b97a"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.logRequestReplayEvent=function(t,{jitneyLogger:l,airlockId:u,viewName:_,fetchUrl:f,requestId:s}){if(!o.default.isTrebuchetLaunched((0,c.default)('web.niobe.airlock_replay_tracking')))return;let p;switch(t){case'waitForRequestReplay':p=9;break;case'requestReplayed':p=7;break;default:p=8}l({schema:n().AirlockHandlerActionEvent,event_data:{airlock_handler_action_type:p,airlock_metadata:{airlock_identifier:u??void 0,flow:_??void 0},platform:{device_type:3,platform_id:''},airlocked_api_endpoint:f,...s?{request_id:s}:{}}})};var o=t(r(d[2])),c=t(r(d[3]))}),"33b938",["ba7a76","13c836","dcc72a","2c6bf9"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeOperationCacheKey=function({operationName:n,variables:o}){return`${n}:${o?JSON.stringify((0,t().convertToStableObjectOrder)(o)):''}`}}),"34be0f",["fad99e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return f(t,[])};var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var u=10,c=2;function f(t,n){switch(o(t)){case'string':return JSON.stringify(t);case'function':return t.name?"[function ".concat(t.name,"]"):'[function]';case'object':return null===t?'null':l(t,n);default:return String(t)}}function l(t,n){if(-1!==n.indexOf(t))return'[Circular]';var o=[].concat(n,[t]),u=p(t);if(void 0!==u){var c=u.call(t);if(c!==t)return'string'==typeof c?c:f(c,o)}else if(Array.isArray(t))return y(t,o);return s(t,o)}function s(t,n){var o=Object.keys(t);return 0===o.length?'{}':n.length>c?'['+b(t)+']':'{ '+o.map((function(o){return o+': '+f(t[o],n)})).join(', ')+' }'}function y(t,n){if(0===t.length)return'[]';if(n.length>c)return'[Array]';for(var o=Math.min(u,t.length),l=t.length-o,s=[],y=0;y<o;++y)s.push(f(t[y],n));return 1===l?s.push('... 1 more item'):l>1&&s.push("... ".concat(l," more items")),'['+s.join(', ')+']'}function p(t){var o=t[String(n.default)];return'function'==typeof o?o:'function'==typeof t.inspect?t.inspect:void 0}function b(t){var n=Object.prototype.toString.call(t).replace(/^\[object /,'').replace(/]$/,'');if('Object'===n&&'function'==typeof t.constructor){var o=t.constructor.name;if('string'==typeof o&&''!==o)return o}return n}}),"3c8201",["4cb7dd"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.extractParameterizedFieldsFromItems=function({normalizedItems:s,variables:u}){return s.map((s=>{const{parameterizedFields:o}=s;if(!o)return s;const c=o.map((o=>{const{inputs:c}=o,l=c.reduce(((t,n)=>{const{name:s,value:o}=n;if('unsupported!'===o)return t;if(!o.startsWith('$'))return t[s]=o,t;if(!u)return t;const c=o.replace('$','');return u[c]?(t[s]=u[c],t):t}),{}),p=(0,n().extractItemsWithLocators)({itemsLocation:o.fieldResponsePath,result:{data:s.value}});if(!p[0])return s;const[f]=p,z=f.responsePath.join('.');return{key:(0,t().computeParameterizizedFieldCacheKey)({parentKey:s.key,variables:l,parameterizedFields:z}),...f}}));return{...s,parameterizedFieldsValues:c}}))}}),"3fe11b",["05fe62","8866cf"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logRetrierCancelled=function(n,l,c=null,t=null){const o={reason:l,view_name:t,is_legacy:c};n.increment('airlock.niobe.retrier.cancelled',1,o)}}),"40f641",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.abortSignalTransform=function(n){const{signal:o,multiAbortController:l=new(t().MultiAbortController)}=n;o&&l.addSignal(o);return{...n,multiAbortController:l}}}),"41c843",["b3b435"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearInflightQuery=function(t,o){'dedupe-inflight'===o.dedupePolicy&&t.delete(o.key)},e.inflightQueryResolver=function(t,o){const{multiAbortController:l,dedupePolicy:n,key:u}=o;if('dedupe-inflight'!==n)return;const c=t.get(u);if(!c)return;const{promise:s,multiAbortController:f}=c;return f.addSignal(l.signal),s},e.storeInflightQuery=function(t,o,l){const{multiAbortController:n,dedupePolicy:u,key:c}=o;'dedupe-inflight'!==u||t.has(c)||t.set(o.key,{promise:l,multiAbortController:n})}}),"459e51",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatUrl=function(s,n){const c=new URL(s,s.startsWith('http')?void 0:t);n&&new URLSearchParams(n).forEach(((t,s)=>c.searchParams.append(s,t)));const o=c.toString();return o.startsWith(t)?o.slice(t.length):o};const t='https://__example__.com'}),"45f45a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getBotDetectionConfigForUrl=void 0;var o=t(r(d[1]));e.getBotDetectionConfigForUrl=t=>(o.default.get('botDetectionEndpoints')||[]).find((({endpoint:o})=>t.startsWith(o)))||null}),"46fe00",["ba7a76","ef2bc3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}}),"48048d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadOperationDocument=async function(t){const n=await t.getDocument();return t.document=n,n}}),"4b7cf2",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var u=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getLocaleAndCurrencyQueryString=function(){return{locale:t.default.locale(),...c.default.current().curr?{currency:c.default.current().curr}:{}}};var t=u(r(d[1])),c=u(r(d[2]))}),"4c8a33",["ba7a76","862e50","06a99e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o='function'==typeof Symbol&&'function'==typeof Symbol.for?Symbol.for('nodejs.util.inspect.custom'):void 0;e.default=o}),"4cb7dd",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractGraphqlAirlockError=function(n){return n?.map((t=>t.extensions?.response?.body)).map(t.extractAirlockData).find((t=>null!=t))};var t=r(d[0])}),"5895b2",["1700a4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"logAirlockLifecycleEvent",{enumerable:!0,get:function(){return t.logAirlockLifecycleEvent}}),Object.defineProperty(e,"logRequestReplayEvent",{enumerable:!0,get:function(){return n.logRequestReplayEvent}}),Object.defineProperty(e,"logRetrierCancelled",{enumerable:!0,get:function(){return o.logRetrierCancelled}}),Object.defineProperty(e,"logRetryCount",{enumerable:!0,get:function(){return l.logRetryCount}});var t=r(d[0]),n=r(d[1]),l=r(d[2]),o=r(d[3])}),"593e28",["326f53","33b938","10cc07","40f641"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReplayAirlockHeader=function(n){const o=(0,t.getAirlockId)(n);return{[c.AIRLOCK_REPLAY_HEADER]:o}};var t=r(d[0]),c=r(d[1])}),"5ab9aa",["1700a4","f3d6f1"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(t){return t.split('?')[0].replace(/\/{2,}/g,'/').replace(/(^\/?([^/]+\/){3}).*/g,'$1').replace(/\/$/,'')}Object.defineProperty(e,"__esModule",{value:!0}),e.computeSubscriptionNormalizationIdentifiers=function(n){const{subscription:o,variables:c}=n,{name:p,normalizedItemsLocators:s}=o;return{subscriptionCacheKey:(0,t().computeOperationCacheKey)({operationName:p,variables:c}),normalizedItemsLocators:s}},e.identifyGraphQLTransform=function(n){const o=n.queryRef?.options,{operation:c,variables:p}=o||n,s=c.name,u=(0,t().computeOperationCacheKey)({operationName:s,variables:p});return{...n,operationName:s,operationType:c.type,key:u}},e.identifyRESTTransform=function(t){const{fetchUrl:o,url:c,method:p,body:s,skip:u}=t;return{...t,operationName:n(c),operationType:'query',key:`${o}:${p}:${JSON.stringify(s)}${u?':skipped':''}`}}}),"5b3464",["34be0f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.deliverNiobeBotDetection=function(){const t=(0,n.getTreatmentOverride)('niobe_bot_platform_force_in');if((0,o.default)(t))return t;return!0};var n=r(d[1]),o=t(r(d[2]))}),"60f717",["ba7a76","f9341a","58861b"]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});e.ApiOperationType={query:1,mutation:2,subscription:3}}),"627d41",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.extractNormalizedItems=function(t,o,u){return t?o?.flatMap((o=>{const{itemsLocation:l,keyPath:h,parameterizedFields:f}=o,p=(0,s().extractItemsWithLocators)({itemsLocation:l,result:t,keyPath:h,parameterizedFields:f}).filter((({key:t})=>t));if(n.default.getBootstrap('web_normalization_rearchitecture_killswitch'))return p;return(0,c().extractParameterizedFieldsFromItems)({normalizedItems:p,variables:u})})):void 0},e.watchNormalizedDependencies=function(t,n,s,c,u){let l,h=!1;const f=c?.map((({key:c,responsePath:p,value:P,keyPath:z,parameterizedFieldsValues:k})=>t.watchNormalizedItem(c,(({data:c}={data:void 0})=>{l||(l=t.get(n)?.result||s),c&&(k?.forEach((({key:n,responsePath:s})=>{const u=t.getNormalizedItem(n);u&&(c=(0,o().deepPatch)({responsePath:s,currentObject:c,newData:u.result?.data,insertNewField:!0}))})),l={...l,data:(0,o().deepPatch)({responsePath:p,currentObject:l.data,newData:c,oldData:P,keyPath:z,insertNewField:!0})},h||(h=!0,Promise.resolve().then((()=>{f?.forEach((t=>t())),t.set(n,l,{normalizedItemsLocators:u,skipSetDependencies:!0})}))))}))))};var n=t(r(d[1]));function o(){const t=r(d[2]);return o=function(){return t},t}function s(){const t=r(d[3]);return s=function(){return t},t}function c(){const t=r(d[4]);return c=function(){return t},t}}),"668ebd",["ba7a76","c235f8","99bed7","8866cf","3fe11b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscriptionToOperationOptions=function(o){return{type:'graphql',operation:o.subscription,fetchPolicy:'network-only',errorPolicy:'all',dedupePolicy:'no-dedupe',usePOSTForQuery:!1,context:{},skip:!1,notifyOnNetworkStatusChange:!1,queryRef:void 0,deferrable:!1,headers:{},...o}}}),"671ad8",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setChinaPersonalizationValueInLocalStorage=e.loadChinaPersonalizationValueFromLocalStorage=e.isCurrentDomainInChina=e.chinaPersonalizationHeaderName=void 0;var n=r(d[0]);const o='enable-china-personalization';e.chinaPersonalizationHeaderName='X-AIRBNB-ENABLE-CN-PERSONALIZATION';e.isCurrentDomainInChina=()=>{try{if(window.location)return(window.location.host||'').endsWith('airbnb.cn')}catch(n){}return!1};e.loadChinaPersonalizationValueFromLocalStorage=()=>{try{if('false'===(0,n.localStorageGetItem)(o,{internalOnly:!0}))return!1}catch(n){}return!0};e.setChinaPersonalizationValueInLocalStorage=t=>{(0,n.localStorageSetItem)(o,t.toString(),{internalOnly:!0})}}),"6d95ce",["13babd"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.catchErrorsInResponse=function(c,h,u){if(!c.data)return c;if(!h||!Array.isArray(h)||0===h.length)return c;const{error:f}=c;if(!f||!f.graphQLErrors||!Array.isArray(f.graphQLErrors)||0===f.graphQLErrors.length)return c;const l=h.flatMap((({itemsLocation:t})=>(0,o().extractItemsWithLocators)({itemsLocation:t,result:c}))),p=new Map;for(const t of l){const{responsePath:n}=t,o=n.length-1;let s=n;'catch'===u&&'number'==typeof n[o]&&(s=n.slice(0,-1));const c=s,h=s.join('.');p.set(h,{itemPathAddressArray:c})}const A=Array.from(p.entries()).sort(((t,n)=>n[1].itemPathAddressArray.length-t[1].itemPathAddressArray.length)),y=new Map,P=[],E=[];for(const t of f.graphQLErrors){const n=t.path||[];let o=!1;for(const[c,{itemPathAddressArray:h}]of A)if(s(n,h)){const n=y.get(c);n?n.errors.push(t):y.set(c,{errors:[t],itemPathAddressArray:h}),E.push(t),o=!0;break}o||P.push(t)}let L=c.data;for(const{errors:o,itemPathAddressArray:s}of y.values())L=(0,n().deepPatch)({responsePath:s,currentObject:L,newData:{[t.uniqueSymbol]:o},insertNewField:!0});const v='catch'===u?'catchErrors':'resultErrors';return{...c,data:L,error:P.length||f.networkError?{...f,graphQLErrors:P}:void 0,errors:P.length?P:void 0,[v]:E.length?E:void 0}};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}function s(t,n){if(t.length<n.length)return!1;for(let o=0;o<n.length;o++)if(t[o]!==n[o])return!1;return!0}}),"74aeec",["8ad8fb","99bed7","8866cf"]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var l=e.AirlockPlatformAirlockLifecycleEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.AirlockPlatform:AirlockPlatformAirlockLifecycleEvent:2.0.0',event_name:'airlockplatform_airlock_lifecycle'},propTypes:{}};l.fullyQualifiedName='AirlockPlatform.v2.AirlockPlatformAirlockLifecycleEvent';e.AirlockPlatformAirlockLifecycleEventEvent=function(c){return{eventData:c,eventDataSchema:l}}}),"774d63",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNode=function(t){return null!=t&&'string'==typeof t.kind},e.Token=e.Location=void 0;var t,n=(t=r(d[0]))&&t.__esModule?t:{default:t};var o=(function(){function t(t,n,o){this.start=t.start,this.end=n.end,this.startToken=t,this.endToken=n,this.source=o}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t})();e.Location=o,(0,n.default)(o);var s=(function(){function t(t,n,o,s,u,h,l){this.kind=t,this.start=n,this.end=o,this.line=s,this.column=u,this.value=l,this.prev=h,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t})();e.Token=s,(0,n.default)(s)}),"79eeb6",["1a078f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getGraphqlGhostingAppealUri=function(n){if(!n.error?.graphQLErrors)return;return n.error.graphQLErrors.map((n=>n.extensions?.response?.body)).map(t.default).find((n=>null!=n))};var t=n(r(d[1]))}),"81c2d5",["ba7a76","b1cb64"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepMergeExceptArrays=function t(c,n){if(c&&n&&'object'==typeof c&&'object'==typeof n&&!Array.isArray(c)&&!Array.isArray(n))return Object.fromEntries([...Object.entries(c),...Object.entries(n).map((([n,o])=>[n,t(c[n],o)]))]);return n}}),"81e255",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){if(!Boolean(n))throw new Error(null!=t?t:'Unexpected invariant triggered.')}}),"85ed97",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.extractItemsWithLocators=function({itemsLocation:n,result:o,keyPath:s,parameterizedFields:u}){return n.reduce(((o,c,p)=>{const{responseKey:y,typeCondition:l}=c;return o.flatMap((({value:o,responsePath:c})=>{if(!o)return[];if(!o.__typename||l.includes(o.__typename)){const l=o[y];return!l&&p<n.length-1?[]:Array.isArray(l)?l.map(((n,o)=>({value:n,responsePath:[...c,y,o],...s&&{keyPath:s,key:(0,t().computeNormalizedCacheKey)(s,n)},...u&&{...u}}))):[{value:l,responsePath:[...c,y],...s&&{keyPath:s},...s&&l&&{key:(0,t().computeNormalizedCacheKey)(s,l)},...u&&{parameterizedFields:u}}]}return[]}))}),[{value:o.data,responsePath:[],...s&&{keyPath:s}}])}}),"8866cf",["950b14"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NiobeClient=void 0;var n=r(d[1]),o=r(d[2]);function s(){const t=r(d[3]);return s=function(){return t},t}function c(){const t=r(d[4]);return c=function(){return t},t}function u(){const t=r(d[5]);return u=function(){return t},t}function h(){const t=r(d[6]);return h=function(){return t},t}function l(){const t=r(d[7]);return l=function(){return t},t}function p(){const t=r(d[8]);return p=function(){return t},t}function f(){const t=r(d[9]);return f=function(){return t},t}function y(){const t=r(d[10]);return y=function(){return t},t}function b(){const t=r(d[11]);return b=function(){return t},t}function R(){const t=r(d[12]);return R=function(){return t},t}function w(){const t=r(d[13]);return w=function(){return t},t}function v(){const t=r(d[14]);return v=function(){return t},t}function O(){const t=r(d[15]);return O=function(){return t},t}function S(){const t=r(d[16]);return S=function(){return t},t}function I(){const t=r(d[17]);return I=function(){return t},t}function E(){const t=r(d[18]);return E=function(){return t},t}function x(){const t=r(d[19]);return x=function(){return t},t}function T(){const n=t(r(d[20]));return T=function(){return n},n}function k(){const t=r(d[21]);return k=function(){return t},t}function C(){const t=r(d[22]);return C=function(){return t},t}function N(){const t=r(d[23]);return N=function(){return t},t}function Q(){const t=r(d[24]);return Q=function(){return t},t}function L(){const t=r(d[25]);return L=function(){return t},t}function A(){const n=t(r(d[26]));return A=function(){return n},n}function P(){const t=r(d[27]);return P=function(){return t},t}function q(){const t=r(d[28]);return q=function(){return t},t}function _(){const t=r(d[29]);return _=function(){return t},t}function M(){const t=r(d[30]);return M=function(){return t},t}function D(){const t=r(d[31]);return D=function(){return t},t}function z(){const t=r(d[32]);return z=function(){return t},t}function $(){const t=r(d[33]);return $=function(){return t},t}function U(){const t=r(d[34]);return U=function(){return t},t}class j{constructor({hydrationData:t=[],fetch:n,generateRandomString:o,metricReporter:s,jitneyLogger:c,cacheMaxSize:u=h().DEFAULT_CACHE_MAX_SIZE,cache:l=new(h().NiobeCache)({hydrationData:t,maxSize:u,metricReporter:s}),inflight:p=new Map,retryOnNetworkError:f=!0,retryDelay:y,extraHeaders:b={},disablePrepare:R=!1,getRenderingState:w,apiGatewayURL:v,fetchStatusMessageTarget:O,webSocketClient:S,usePOSTForQueries:I=!1,synchronousResolver:E,clearPersistentCache:x=T().default}){this.type='minimalist',this.cache=void 0,this.inflight=void 0,this.metricReporter=void 0,this.jitneyLogger=void 0,this.fetch=void 0,this.generateRandomString=void 0,this.getRenderingState=void 0,this.retryOnNetworkError=void 0,this.retryDelay=void 0,this.extraHeaders=void 0,this.disablePrepare=void 0,this.apiGatewayURL=void 0,this.webSocketClient=void 0,this.usePOSTForQueries=void 0,this.transformedOptions=void 0,this.synchronousResolver=void 0,this.clearPersistentCache=void 0,this.fetchStatusMessageTarget=void 0,this.webSocketMultiAbortController=void 0,this.webSocketSubscription=void 0,this.isDirectCacheAccessAllowed=!0,this.cache=l,this.inflight=p,this.retryOnNetworkError=f,this.retryDelay=y,this.getRenderingState=w,this.metricReporter=s,this.jitneyLogger=c,this.extraHeaders=b,this.disablePrepare=R,this.fetch=n,this.generateRandomString=o,this.apiGatewayURL=v||'',this.transformedOptions=new WeakMap,this.webSocketClient=S,this.usePOSTForQueries=I,this.synchronousResolver=E,this.clearPersistentCache=x,this.fetchStatusMessageTarget=O,this.metricReporter.increment('niobe_client_type',1,{clientType:'minimalist'})}preloadQuery(t){const n=(0,M().queryToOperationOptions)(t);return this.execute(n)}preloadRestQuery(t){return this.execute((0,L().getOptionsToRESTOptions)(t))}prefetchPreloadQuery(t){const n=(0,M().queryToOperationOptions)(t);return this.execute({...n,context:{type:'prefetch',...n.context,headers:{'x-airbnb-prefetch':'true',...n.context.headers},fetchOptions:{...n.context.fetchOptions,type:'prefetch'}}})}async query(t){const n=(0,M().queryToOperationOptions)(t),o=await this.execute(n).promise;if(o.error?.networkError)throw o.error.networkError;return o}async prefetchQuery(t){return this.prefetchPreloadQuery(t).promise}readQuery(t){return t.queryRef?t.queryRef.result?.data??null:this.readResult((0,M().queryToOperationOptions)(t))?.data??null}writeQuery(t){const n=this.transformOptions((0,M().queryToOperationOptions)(t)),o={data:t.data},s=c().NiobeQueryRef.for({options:(0,M().queryToOperationOptions)(t),promise:Promise.resolve(o),result:o,clientType:this}),{promise:u}=s;this.processResult({transformedOptions:n,result:o,promise:u,source:'manual'})}unsafe__writeQuery(t){if(!this.isDirectCacheAccessAllowed){const n=t.query.name;(0,s().warnNiobeError)((0,s().directCacheAccessDuringOptimisticUpdateError)(n))}this.writeQuery(t)}readItem({typename:t,keyField:n,id:o,excludeOptimisticData:s=!1}){const c=`${t}.${n}:${o}`,u=this.cache.getNormalizedItem(c);if(!u)return null;const h=s?u?.result:u?.resultWithOptimisticData;return h?.data??null}writeItem({typename:t,keyField:n,id:o,data:s}){const c=`${t}.${n}:${o}`;this.cache.setNormalizedItem(c,{data:s})}unsafe__readItem(t){return this.readItem({...t,excludeOptimisticData:!1})}unsafe__writeItem(t){this.isDirectCacheAccessAllowed||(0,s().warnNiobeError)((0,s().directCacheAccessDuringOptimisticUpdateError)(t.typename)),this.writeItem(t)}handleOptimisticResponse({optimisticResponse:t,update:n,mutation:o,variables:c}){if(!t)return _().noop;const u={data:t},l=o.name,p=(0,k().computeOperationCacheKey)({operationName:l,variables:c}),{normalizedItemsLocators:f}=o;if(!n){const t=(0,v().extractNormalizedItems)(u,f,c);if(!t?.length)return(0,s().warnNiobeError)((0,s().optimisticResponseWithoutNormalizedItemsError)(o.name)),_().noop}const y=[],b=(0,h().cacheOptimisticResult)(this.cache,{cacheKey:p,variables:c,normalizedItemsLocators:f,result:u});if(y.push(b),n){const t={readItem:this.readItem.bind(this),readQuery:this.readQuery.bind(this),writeItem:t=>{const n=(0,h().cacheOptimisticItem)(this.cache,t);y.push(n)},writeQuery:({query:t,variables:n,data:o})=>{const s=t.name,c=(0,k().computeOperationCacheKey)({operationName:s,variables:n}),{normalizedItemsLocators:u}=t,l=(0,h().cacheOptimisticResult)(this.cache,{cacheKey:c,variables:n,normalizedItemsLocators:u,result:{data:o}});y.push(l)}};this.isDirectCacheAccessAllowed=!1,n(t,u),this.isDirectCacheAccessAllowed=!0}return()=>y.forEach((t=>t()))}parseMutationError(t){if(!t.error)return null;if(t.error.networkError)return t.error?.networkError;if(t.error?.graphQLErrors?.length>0){const n=new Error(t.error?.graphQLErrors?.map((t=>t.message)).join('\n'));return n.graphQLErrors=t.error.graphQLErrors,n}}async mutate(t){const n=this.handleOptimisticResponse(t),o=(0,q().mutationToOperationOptions)(t),s=await this.execute(o).promise,c=this.parseMutationError(s);if(c)throw n(),c;if(t.update){const n={readItem:t=>this.readItem({...t,excludeOptimisticData:!0}),readQuery:t=>{const n=(0,M().queryToOperationOptions)(t);return this.readResult({...n,excludeOptimisticData:!0})?.data??null},writeItem:this.writeItem.bind(this),writeQuery:this.writeQuery.bind(this)};t.update(n,s)}return n(),s}createWebSocketSubscription(t){const{webSocketClient:n}=this;if(!n)throw new Error('no websocket client');if(this.webSocketSubscription&&!this.webSocketMultiAbortController?.aborted)return this.webSocketMultiAbortController?.addSignal(t),this.webSocketSubscription;this.webSocketMultiAbortController=new(R().MultiAbortController)({waitTick:!0}),this.webSocketMultiAbortController.addSignal(t);const o=n.subscribe('graphql_subscription',this.webSocketMultiAbortController.signal),s=t=>{'disconnected'!==t.state?(this.webSocketSubscription=t,t.next?.then(s)):this.webSocketSubscription=void 0};return s(o),o}async initiateGraphQLSubscription(t,n){const o=await this.execute((0,z().subscriptionToOperationOptions)({...t,headers:{'x-airbnb-websocket-connection-id':n}})).promise,c=o.extensions?.subscription?.subscriptionId;return c||(this.metricReporter.increment('frontend.niobe.missing_subscription_id',1,{subscription_name:t.subscription.name}),(0,s().reportNiobeError)((0,s().missingSubscriptionId)(t.subscription.name)),(0,s().throwNiobeError)((0,s().missingSubscriptionId)(t.subscription.name))),{subscriptionId:c,result:o,error:void 0}}async*subscribe(t,n,o){if(o&&await new Promise((t=>{setTimeout(t,o)})),n.aborted)return;let c=this.createWebSocketSubscription(n);for(yield{state:'pending'};'pending'===c.state||'reconnecting'===c.state;)c=await c.next;if('disconnected'===c.state){const{sourceError:t}=c,{wasClean:n,code:o,reason:s}=t;return void(n?yield{state:'disconnected'}:yield{state:'error',error:new Error(`${o} - ${s}`)})}const{connection:u}=c,l=this.initiateGraphQLSubscription(t,u.connectionId),{result:p,subscriptionId:y,error:b}=await l.catch((t=>({subscriptionId:void 0,result:void 0,error:t})));if(void 0===y)return void(yield{state:'error',error:b});yield{state:'established'},p&&p.data&&(yield{state:'message',data:p});const R=()=>this.mutate({mutation:x().UnsubscribeMutationOperation,variables:{subscriptionId:y}}).catch((()=>{this.metricReporter.increment('frontend.niobe.unsubscribe_failure',1,{subscription_name:t.subscription.name})}));function w(t){return t.extensions?.subscription?.subscriptionId===y}for(n.addEventListener('abort',R,{once:!0}),c=await c.next;c;){if('established'===c.state)yield{state:'established'};else if('reconnecting'===c.state)yield{state:'reconnecting'};else if('disconnected'===c.state){const{sourceError:t}=c,{wasClean:n,code:o,reason:s}=t;n?yield{state:'disconnected'}:yield{state:'error',error:new Error(`${o} - ${s}`)}}else if('message'===c.state){const{message:n}=c;try{const o=JSON.parse(n);if(w(o)){const{subscriptionCacheKey:n,normalizedItemsLocators:s}=(0,f().computeSubscriptionNormalizationIdentifiers)(t);(0,h().cacheResult)(this.cache,{key:n,result:o,normalizedItemsLocators:s}),yield{state:'message',data:o}}}catch{(0,s().warnNiobeError)((0,s().unparseableSubscriptionMessage)(n))}}c=await c.next}c||n.aborted||(R(),yield{state:'resubscribing'},yield*this.subscribe(t,n,Math.min(3e4,o?2*o:100)))}extract(){return this.cache.serialize()}invalidate({query:t,variables:n}){const{cache:o}=this,s=t.name,c=(0,k().computeOperationCacheKey)({operationName:s,variables:n});o.invalidate({keyPrefix:c});const{operationId:u}=t;if((0,A().default)(s)&&u){const t=`${(0,N().getHostAndPath)(this.apiGatewayURL)}/${s}/${u}`,o=(0,P().mergeURLSearchParams)({operationName:s,...(0,Q().getLocaleAndCurrencyQueryString)(),...n?{variables:JSON.stringify(n)}:{},extensions:JSON.stringify({persistedQuery:{version:O().OPERATION_REGISTRY_VERSION,sha256Hash:u}})}),c=(0,C().formatUrl)(t,o);this.clearPersistentCache?.(c)}}updateCache(t){t.forEach((([t,{normalizedItemsLocators:n,...o}])=>{(0,h().cacheResult)(this.cache,{key:t,result:o,normalizedItemsLocators:n})}))}readResult(t){const{queryRef:{clientType:n}={}}=t;if(n&&n!==this&&(0,s().throwNiobeError)((0,s().receivedQueryRefForWrongClient)(this,n)),t.queryRef){const n=this.transformOptions(t.queryRef.options),[,o]=this.syncResolve(n)||[];return o??t.queryRef.result??void 0}const o=this.transformOptions(t),[,c]=this.syncResolve(o)||[];return c}watchOnce(t,n){const{options:o}=t;return o.skip?_().noop:this.cache.watch(this.transformOptions(o).key,(t=>{const s=t?c().NiobeQueryRef.for({promise:Promise.resolve(t),result:t,clientType:this,options:o,deferred:t.deferred}):this.execute(o);n(s)}))}executeFrom({queryRef:t,options:n}){const{options:o}=t;return this.execute({...o,...n,variables:{...o.variables,...n.variables}})}transformOptions(t){const{metricReporter:n,metricReporter:{now:o},extraHeaders:s,apiGatewayURL:c,generateRandomString:h,usePOSTForQueries:p}=this;const y=this.transformedOptions.get(t);if(y)return y;const R=(function(){if('rest'===t.type){const c=(0,E().timeoutSignalTransform)((0,u().abortSignalTransform)((0,b().metricsTransform)(t,o,h))),p=(0,l().contextRESTTransform)(c,s,n,t.excludeLocaleAndCurrencySearchParams);return(0,f().identifyRESTTransform)(p)}const y=(0,E().timeoutSignalTransform)((0,u().abortSignalTransform)((0,b().metricsTransform)(t,o,h))),R=(0,f().identifyGraphQLTransform)(y),w=(0,O().operationRegistryTransform)(n,R,p);return(0,l().contextGraphqlTransform)(w,s,n,c)})();return this.transformedOptions.set(t,R),R}syncResolve(t){const n=(0,I().skipResolver)(t);if(n)return['skip',n];const{cache:o}=this,s=(0,h().cacheResolver)(o,t,this.getRenderingState);if(s){return[s.fromPrefetch?'cache-prefetch':'cache',s.result]}const c=this.synchronousResolver?.(t);return c?['injected-sync-resolve',c]:'cache-only'===t.fetchPolicy?['cache-only-miss',{data:void 0}]:void 0}asyncResolve(t,n){const{inflight:o,cache:s,fetch:c,metricReporter:u,jitneyLogger:l,generateRandomString:f,fetchStatusMessageTarget:R}=this,w=[],v=f(),O=async t=>{const o=f(),s=await(0,p().httpResolver)(u,c,R,o,t);return w.push(o),(0,b().reportAPIResponseMetrics)({jitneyLogger:l,apiEventAttemptId:o,result:s,options:t,apiRequestId:v}),s.metrics&&(s.metrics.requestEventIds=w),s.error?.extraInfo?.aborted||(0,D().redirectOnKrakenAuthenticationError)(s)?s:this.maybeRetry(n,t,s,O)},S=(0,y().inflightQueryResolver)(o,t)?.then((n=>n.error?.extraInfo?.aborted&&!t.multiAbortController.aborted?O(t):n));if(S)return['network-dedupe',S];const I=(0,h().cacheDeferredResolver)(s,t);return I?['cache-deferred',I]:['network',O(t)]}async maybeRetry(t,o,s,c){const u=3+(0,w().getTotalNetworkErrorRetrierAttempts)(),h=o.context?.attemptsCount??2;if(h>=u)return s;const l=(0,S().recaptchaRetrier)(o,s)??(0,n.airlockRetrier)(this.metricReporter,this.jitneyLogger,o,s)??(0,O().operationRegistryRetrier)(this.metricReporter,o,s)??(0,w().networkErrorRetrier)({metricReporter:this.metricReporter,retryOnNetworkError:this.retryOnNetworkError,retryDelay:this.retryDelay,options:o,result:s});if(!l)return s;const p=await l.context;if(!p)return s;this.metricReporter.increment('frontend.niobe.retry',1,{operation_name:o.operationName,attempt_count:String(h),reason:l.reason});return c(this.transformOptions({...t,dedupePolicy:'no-dedupe',context:{...t.context,...p,attemptsCount:h+1,clientTraceId:o.context.clientTraceId}}))}transformResult(t,n){const o=[$().transformResponseWithCaughtErrors,U().transformResponseWithResults];return t.data?o.reduce(((t,o)=>o(t,n)),t):t}processResult({transformedOptions:t,result:n,promise:s,source:c}){const{cache:u,inflight:l,metricReporter:p,jitneyLogger:f,getRenderingState:R}=this;if('skip'===c)return;const w=[n=>(0,y().storeInflightQuery)(l,t,n),()=>(0,h().cacheDeferredSentinel)(u,t,R)];w.forEach((t=>t(s)));const v='graphql'===t.type?t.operation.normalizedItemsLocators:[],O=[n=>{'cache'!==c&&'cache-only-miss'!==c&&(0,h().cacheResult)(u,{...t,result:n,normalizedItemsLocators:v})},()=>(0,y().clearInflightQuery)(l,t),n=>{n?.error&&(0,A().default)(t.operationName)&&this.clearPersistentCache?.(t.fetchUrl)},n=>{const o=p.now();(0,b().reportMetrics)(p,f,t,n,c,o)},t=>{if(t.extensions?.traceId){const n=t.error||t.errors?.length?'error':'success';(0,o.saveTraceId)(t.extensions?.traceId,n)}}];n?O.forEach((t=>t(n))):s.then((t=>O.forEach((n=>n(t)))))}execute(t){if(t.queryRef)return t.queryRef;const n=this.transformOptions(t),[o,s]=(()=>{const o='deferrable'in t&&t.deferrable,s=this.syncResolve(n);if(s){const[n,u]=s;return[n,c().NiobeQueryRef.for({promise:Promise.resolve(u),result:u,clientType:this,options:t,deferred:o})]}const[u,h]=this.asyncResolve(n,t),l=h.then((t=>this.transformResult(t,n)));return[u,c().NiobeQueryRef.for({promise:l,clientType:this,options:t,deferred:o})]})();return this.processResult({transformedOptions:n,result:s.result||void 0,promise:s.promise,source:o}),s}}e.NiobeClient=j;e.default=j}),"8889e8",["ba7a76","a145d5","f2f40f","e2d715","ee1cae","41c843","8f864f","abc507","f9267b","5b3464","459e51","b80b94","b3b435","b7fb26","668ebd","c0fdc0","f5568d","0c3d76","096956","ceadbe","e15052","34be0f","45f45a","f8aa06","4c8a33","a0a6de","d8c0f0","ab4631","91eae7","48048d","043517","bf6bc6","671ad8","988b22","e8dfb1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractErrors=void 0,e.fieldHasNoErrors=function(o,u){return!t(o[u])},e.uniqueSymbol=e.hasError=void 0;const o=e.uniqueSymbol=Symbol('GraphQLFieldCaughtError'),t=t=>t&&'object'==typeof t&&o in t;e.hasError=t;e.extractErrors=t=>t[o]}),"8ad8fb",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractViewName=function(t,n){let l=null;if(n){const{friction_data:n}=t;l=(n||[])[0]?.name||null}else{const{viewPayload:n}=t;l='AirlockFlowViewPayload'===n?.__typename?n.flowView:n.frictionView}return l}}),"8cd0d8",[]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var n=e.UniversalApiResponseEvent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Universal:UniversalApiResponseEvent:3.0.0',event_name:'universal_api_response'},propTypes:{}};n.fullyQualifiedName='Universal.v3.UniversalApiResponseEvent';e.UniversalApiResponseEventEvent=function(s){return{eventData:s,eventDataSchema:n}}}),"8e84bb",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const s=r(d[0]);return t=function(){return s},s}function s(){const t=r(d[1]);return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeCache=e.DEFAULT_CACHE_MAX_SIZE=void 0,e.cacheDeferredResolver=function(t,{key:s,deferrable:o,fetchPolicy:c,excludeOptimisticData:h}){if(!o)return;if('network-only'===c||'no-cache'===c||'cache-and-network'===c)return;const n=t.get(s),l=h?n?.result:n?.resultWithOptimisticData;if(!l)return;if(!l.deferred)return Promise.resolve(l);return new Promise((o=>{t.watch(s,(t=>{t&&o(t)}))}))},e.cacheDeferredSentinel=function(t,{key:s,deferrable:o},c){o&&'server-render'===c()&&t.set(s,{data:void 0,deferred:!0})},e.cacheOptimisticItem=function(t,{typename:s,keyField:o,id:c,data:h}){const n=`${s}.${o}:${c}`,l=Symbol(`optimistic-${n}`);return t.setNormalizedItem(n,{data:h},{optimisticCacheKey:l}),()=>{t.setNormalizedItem(n,void 0,{optimisticCacheKey:l})}},e.cacheOptimisticResult=function(s,{cacheKey:o,variables:c,normalizedItemsLocators:h,result:n}){const l=(0,t().extractNormalizedItems)(n,h,c),u=Symbol(`optimistic-${o}`);return s.set(o,n,{normalizedItemsLocators:h,optimisticCacheKey:u,variables:c}),()=>{if(s.set(o,void 0,{optimisticCacheKey:u,variables:c}),l?.length){const t=l.map((({parameterizedFieldsValues:t,...s})=>({...s,value:void 0,parameterizedFieldsValues:t?.map((t=>({...t,value:void 0})))})));s.setDependencies(t,{optimisticCacheKey:u})}}},e.cacheResolver=function(t,{key:s,fetchPolicy:o,maxAge:c,queryRef:h,excludeOptimisticData:n},l){if(h){const{result:t}=h;return t&&!t.deferred?{result:t,fromPrefetch:!1}:void 0}if('network-only'===o||'no-cache'===o)return;if('cache-and-network'===o&&'client-hydration'!==l())return;const u=t.get(s,{maxAge:c}),f=n?u?.result:u?.resultWithOptimisticData;if(!f||f?.deferred)return;return{result:f,fromPrefetch:Boolean(u?.fromPrefetch)}},e.cacheResult=function(t,{key:s,result:o,fetchPolicy:c,normalizedItemsLocators:h,variables:l,context:{type:u}={}}){if('no-cache'===c)return;if(o.deferred)return;if(o.error&&!t.get(s)?.result?.deferred)return;if(n(o.error))return;if(o.catchErrors?.length||o.resultErrors?.length)return;t.set(s,o,{fromPrefetch:'prefetch'===u,normalizedItemsLocators:h,variables:l})};const o=e.DEFAULT_CACHE_MAX_SIZE=268435456,c=null;class h{constructor(t){this.key=void 0,this.size=void 0,this.result=void 0,this.resultWithOptimisticData=void 0,this.variables=void 0,this.normalizedItemsLocators=void 0,this.optimisticData=void 0,this.createdAt=void 0,this.fromPrefetch=void 0,this.watchers=void 0,this.key=t,this.watchers=[],this.size=0,this.fromPrefetch=!1}setResult(t,{fromPrefetch:o=!1,optimisticCacheKey:c,now:h}){const n=this.resultWithOptimisticData;if(c?this.setOptimisticResult(c,t):(this.result=t,this.fromPrefetch=o),this.optimisticData?.size){const t=[...this.optimisticData.values()].reduce(((t,o)=>o?(0,s().deepMergeExceptArrays)(t,o):t),this.result?.data);this.resultWithOptimisticData={...this.result,data:t}}else this.resultWithOptimisticData=this.result;const l=void 0===t,u=JSON.stringify(this.resultWithOptimisticData?.data),f=u!==JSON.stringify(n?.data);this.size=this.resultWithOptimisticData?.data?u.length:0,this.createdAt=h(),(f||l)&&this.notify()}setOptimisticResult(t,s){if(!s)return this.optimisticData?.delete(t),void(0===this.optimisticData?.size&&(this.optimisticData=void 0));this.optimisticData||(this.optimisticData=new Map),this.optimisticData.set(t,s?.data)}setNormalizedItemsLocators(t){this.normalizedItemsLocators=t}setVariables(t){this.variables=t}isCollectable(){return 0===this.watchers.length}watch(t){const s=this;return s.watchers=s.watchers.concat(t),function(){s.watchers=s.watchers.filter((s=>s!==t))}}notify(){const{watchers:t,resultWithOptimisticData:s}=this;this.watchers=[],t.forEach((t=>t(s)))}}function n(t){if(!t)return!1;const s=t.networkError?.result?.error_type;return!0===t.extraInfo?.ssrNetworkTimeout||'persisted_query_not_found'===s||t.graphQLErrors?.some((({message:t})=>'PersistedQueryNotFound'===t))}e.NiobeCache=class{constructor({hydrationData:t,metricReporter:s,maxSize:c=o}){this.data=void 0,this.normalizedItems=void 0,this.size=void 0,this.maxSize=void 0,this.lastTouchedEntry=void 0,this.metricReporter=void 0,this.data=new Map,this.normalizedItems=new Map,this.size=0,this.maxSize=c,this.metricReporter=s,t.forEach((([t,{normalizedItemsLocators:s,variables:o,...c}])=>{this.set(t,c,{normalizedItemsLocators:s,variables:o})}))}serialize(){return Array.from(this.data.entries()).reduce(((t,[s,o])=>{if(o!==c&&void 0!==o.result){const{variables:c,normalizedItemsLocators:h,result:n}=o,{data:l,error:u,deferred:f}=n;t.push([s,{data:l,error:u,deferred:f,variables:c,normalizedItemsLocators:h}])}return t}),[])}get(t,{maxAge:s}={}){const o=this.data.get(t);if(o===c&&this.metricReporter.increment('frontend.niobe.mini_cache_miss',1,{}),!o)return;const{createdAt:h}=o;return h&&s&&this.metricReporter.now()-1e3*s>h?void 0:(this.touch(o),o)}getNormalizedItem(t){const s=this.normalizedItems.get(t);if(s===c&&this.metricReporter.increment('frontend.niobe.mini_cache_miss',1,{}),s)return this.touchNormalizedItem(s),s}set(s,o,{fromPrefetch:c=!1,normalizedItemsLocators:n,variables:l,skipSetDependencies:u,optimisticCacheKey:f}={}){const p=this.data.get(s),z=p??new h(s);z.setVariables(l),n&&z.setNormalizedItemsLocators(n),z.setResult(o,{fromPrefetch:c,optimisticCacheKey:f,now:this.metricReporter.now});const y=(0,t().extractNormalizedItems)(o,n,l);y&&(u||this.setDependencies(y,{optimisticCacheKey:f}),o&&!f&&(0,t().watchNormalizedDependencies)(this,s,o,y,n)),this.touch(z),this.size+=z.size-(p?.size??0),this.prune()}setDependencies(t,{optimisticCacheKey:s}={}){t?.forEach((({key:t,value:o,parameterizedFieldsValues:c})=>{c?.forEach((t=>this.setNormalizedItem(t.key,{data:t.value},{optimisticCacheKey:s}))),this.setNormalizedItem(t,{data:o},{optimisticCacheKey:s})}))}setNormalizedItem(t,o,{optimisticCacheKey:c}={}){const n=this.normalizedItems.get(t),l=n??new h(t);if(c)l.setResult(o,{optimisticCacheKey:c,now:this.metricReporter.now});else{const t=(0,s().deepMergeExceptArrays)(n?.result?.data,o?.data);l.setResult({...o,data:t},{now:this.metricReporter.now})}this.touchNormalizedItem(l),this.size+=l.size-(n?.size??0),this.prune()}watch(t,s){const{data:o}=this,c=o.get(t)??new h(t);return o.set(t,c),c.watch(s)}watchNormalizedItem(t,s){const{normalizedItems:o}=this,c=o.get(t)??new h(t);return o.set(t,c),c.watch(s)}invalidate({keyPrefix:t}){[...this.data.keys()].filter((s=>s.startsWith(t))).forEach((t=>{this.set(t,void 0)}))}clear(){this.data.clear(),this.normalizedItems.clear(),this.size=0,this.lastTouchedEntry=void 0}delete(t){const s=this.data.get(t);s&&(this.data.set(t,c),this.size-=s.size)}deleteNormalizedItem(t){const s=this.normalizedItems.get(t);s&&(this.normalizedItems.set(t,c),this.size-=s.size)}touch(t){t!==this.lastTouchedEntry&&(this.lastTouchedEntry=t,this.data.delete(t.key),this.data.set(t.key,t))}touchNormalizedItem(t){t!==this.lastTouchedEntry&&(this.lastTouchedEntry=t,this.normalizedItems.delete(t.key),this.normalizedItems.set(t.key,t))}prune(){if(!(this.size<=this.maxSize)){for(const[t,s]of this.normalizedItems){if(this.size<=this.maxSize)return;s!==c&&s.isCollectable()&&this.deleteNormalizedItem(t)}for(const[t,s]of this.data){if(this.size<=this.maxSize)return;s!==c&&s.isCollectable()&&this.delete(t)}}}}}),"8f864f",["668ebd","81e255"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.maybeGetRecaptchaV3TokenHeader=void 0;var o=t(r(d[1])),n=r(d[2]),s=r(d[3]),c=r(d[4]);const u=()=>{};e.maybeGetRecaptchaV3TokenHeader=(t,l,p,h=!1)=>{const f=(0,s.getBotDetectionConfigForUrl)(t);if(null===f)return u;if(!f.methods.map((t=>t.toUpperCase())).includes(l.toUpperCase()))return u;if(o.default.getBootstrap('trust_ai_disable_recaptchav3'))return u;if(h)return u;const _={action:f.actionName||(0,n.getNotSetEndpointActionName)(f.endpoint?.slice(1)),...f.timeout&&{timeoutInMs:f.timeout},...f.shouldThrow&&{shouldThrow:f.shouldThrow},...f.retries&&{maxRetries:f.retries},isPlatformized:p};return()=>(0,c.getRecaptchaV3TokenHeader)(_)}}),"913737",["ba7a76","c235f8","336c95","46fe00","fa27ff"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mutationToOperationOptions=function(o){return{type:'graphql',operation:o.mutation,variables:void 0,fetchPolicy:'network-only',errorPolicy:'all',dedupePolicy:'no-dedupe',usePOSTForQuery:!1,context:{},skip:!1,notifyOnNetworkStatusChange:!1,queryRef:void 0,deferrable:!1,headers:{},...o}}}),"91eae7",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeNormalizedCacheKey=function(n,u){const c=(0,t().getKeyPathValue)(n,u);return c?`${u.__typename}.${n}:${c}`:''}}),"950b14",["1e477a"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.transformResponseWithCaughtErrors=function(n,o){if(!o)return n;if('rest'===o.type)return n;if(!o.operation)return n;const{operation:s}=o,{caughtItemsLocators:u}=s;return u?(0,t().catchErrorsInResponse)(n,u,'catch'):n}}),"988b22",["74aeec"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.deepPatch=function o({responsePath:c,currentObject:u,newData:s,oldData:l,keyPath:f,insertNewField:h}){if(0===c.length){if(f){if((0,n().getKeyPathValue)(f,u)!==(0,n().getKeyPathValue)(f,s))return u}return s}const[y,...P]=c;if('number'==typeof y)return Array.isArray(u)?!u[y]&&l?u:[...u.slice(0,y),o({responsePath:P,currentObject:u[y],newData:s,oldData:l,keyPath:f,insertNewField:h}),...u.slice(y+1)]:((0,t().warnNiobeError)((0,t().invalidNormalizationPatch)()),u);if('string'==typeof y)return'object'!=typeof u||!u||Array.isArray(u)?((0,t().warnNiobeError)((0,t().invalidNormalizationPatch)()),u):u[y]||h?{...u,[y]:o({responsePath:P,currentObject:u[y],newData:s,oldData:l,keyPath:f,insertNewField:h})}:u;(0,t().warnNiobeError)((0,t().invalidNormalizationPatch)())}}),"99bed7",["e2d715","1e477a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.redirectToAirlockIfFullpage=function(f,s){if((0,c.isFullpage)(f)){if(s){const c=(0,l.isLegacyAirlock)(f),o=(0,t.extractViewName)(f,c);(0,u.logRetrierCancelled)(s,'fullpageRedirect',c,o)}return(0,o.logAirlockLifecycleEvent)('FULL_PAGE_REDIRECT',f),(0,n.redirectToAirlock)((0,c.getFullpageURL)(f)),!0}return!1};var l=r(d[0]),c=r(d[1]),t=r(d[2]),o=r(d[3]),u=r(d[4]),n=r(d[5])}),"9f2c9e",["1700a4","6cfeca","8cd0d8","593e28","40f641","e91c21"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOptionsToRESTOptions=function(o){return{type:'rest',body:void 0,context:{},deferrable:!1,errorPolicy:'all',fetchPolicy:'cache-first',dedupePolicy:'GET'===o.method||void 0===o.method?'dedupe-inflight':'no-dedupe',headers:{},method:'GET',skip:!1,queryRef:void 0,...o}}}),"a0a6de",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AIRLOCK_REPLAY_HEADER",{enumerable:!0,get:function(){return n.AIRLOCK_REPLAY_HEADER}}),Object.defineProperty(e,"airlockRetrier",{enumerable:!0,get:function(){return t.airlockRetrier}}),Object.defineProperty(e,"buildAirlockPermitV2Header",{enumerable:!0,get:function(){return o.buildAirlockPermitV2Header}}),Object.defineProperty(e,"logRequestReplayEvent",{enumerable:!0,get:function(){return u.logRequestReplayEvent}});var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=r(d[3])}),"a145d5",["24eb52","f3d6f1","593e28","25f264"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.print=function(t){return(0,n.visit)(t,{leave:u})};var n=r(d[0]),t=r(d[1]);var u={Name:function(n){return n.value},Variable:function(n){return'$'+n.name},Document:function(n){return c(n.definitions,'\n\n')+'\n'},OperationDefinition:function(n){var t=n.operation,u=n.name,o=l('(',c(n.variableDefinitions,', '),')'),f=c(n.directives,' '),s=n.selectionSet;return u||f||o||'query'!==t?c([t,c([u,o]),f,s],' '):s},VariableDefinition:function(n){var t=n.variable,u=n.type,o=n.defaultValue,f=n.directives;return t+': '+u+l(' = ',o)+l(' ',c(f,' '))},SelectionSet:function(n){return f(n.selections)},Field:function(n){var t=n.alias,u=n.name,o=n.arguments,f=n.directives,v=n.selectionSet,p=l('',t,': ')+u,y=p+l('(',c(o,', '),')');return y.length>80&&(y=p+l('(\n',s(c(o,'\n')),'\n)')),c([y,c(f,' '),v],' ')},Argument:function(n){return n.name+': '+n.value},FragmentSpread:function(n){return'...'+n.name+l(' ',c(n.directives,' '))},InlineFragment:function(n){var t=n.typeCondition,u=n.directives,o=n.selectionSet;return c(['...',l('on ',t),c(u,' '),o],' ')},FragmentDefinition:function(n){var t=n.name,u=n.typeCondition,o=n.variableDefinitions,f=n.directives,s=n.selectionSet;return"fragment ".concat(t).concat(l('(',c(o,', '),')')," ")+"on ".concat(u," ").concat(l('',c(f,' '),' '))+s},IntValue:function(n){return n.value},FloatValue:function(n){return n.value},StringValue:function(n,u){var o=n.value;return n.block?(0,t.printBlockString)(o,'description'===u?'':'  '):JSON.stringify(o)},BooleanValue:function(n){return n.value?'true':'false'},NullValue:function(){return'null'},EnumValue:function(n){return n.value},ListValue:function(n){return'['+c(n.values,', ')+']'},ObjectValue:function(n){return'{'+c(n.fields,', ')+'}'},ObjectField:function(n){return n.name+': '+n.value},Directive:function(n){return'@'+n.name+l('(',c(n.arguments,', '),')')},NamedType:function(n){return n.name},ListType:function(n){return'['+n.type+']'},NonNullType:function(n){return n.type+'!'},SchemaDefinition:o((function(n){var t=n.directives,u=n.operationTypes;return c(['schema',c(t,' '),f(u)],' ')})),OperationTypeDefinition:function(n){return n.operation+': '+n.type},ScalarTypeDefinition:o((function(n){return c(['scalar',n.name,c(n.directives,' ')],' ')})),ObjectTypeDefinition:o((function(n){var t=n.name,u=n.interfaces,o=n.directives,s=n.fields;return c(['type',t,l('implements ',c(u,' & ')),c(o,' '),f(s)],' ')})),FieldDefinition:o((function(n){var t=n.name,u=n.arguments,o=n.type,f=n.directives;return t+(p(u)?l('(\n',s(c(u,'\n')),'\n)'):l('(',c(u,', '),')'))+': '+o+l(' ',c(f,' '))})),InputValueDefinition:o((function(n){var t=n.name,u=n.type,o=n.defaultValue,f=n.directives;return c([t+': '+u,l('= ',o),c(f,' ')],' ')})),InterfaceTypeDefinition:o((function(n){var t=n.name,u=n.interfaces,o=n.directives,s=n.fields;return c(['interface',t,l('implements ',c(u,' & ')),c(o,' '),f(s)],' ')})),UnionTypeDefinition:o((function(n){var t=n.name,u=n.directives,o=n.types;return c(['union',t,c(u,' '),o&&0!==o.length?'= '+c(o,' | '):''],' ')})),EnumTypeDefinition:o((function(n){var t=n.name,u=n.directives,o=n.values;return c(['enum',t,c(u,' '),f(o)],' ')})),EnumValueDefinition:o((function(n){return c([n.name,c(n.directives,' ')],' ')})),InputObjectTypeDefinition:o((function(n){var t=n.name,u=n.directives,o=n.fields;return c(['input',t,c(u,' '),f(o)],' ')})),DirectiveDefinition:o((function(n){var t=n.name,u=n.arguments,o=n.repeatable,f=n.locations;return'directive @'+t+(p(u)?l('(\n',s(c(u,'\n')),'\n)'):l('(',c(u,', '),')'))+(o?' repeatable':'')+' on '+c(f,' | ')})),SchemaExtension:function(n){var t=n.directives,u=n.operationTypes;return c(['extend schema',c(t,' '),f(u)],' ')},ScalarTypeExtension:function(n){return c(['extend scalar',n.name,c(n.directives,' ')],' ')},ObjectTypeExtension:function(n){var t=n.name,u=n.interfaces,o=n.directives,s=n.fields;return c(['extend type',t,l('implements ',c(u,' & ')),c(o,' '),f(s)],' ')},InterfaceTypeExtension:function(n){var t=n.name,u=n.interfaces,o=n.directives,s=n.fields;return c(['extend interface',t,l('implements ',c(u,' & ')),c(o,' '),f(s)],' ')},UnionTypeExtension:function(n){var t=n.name,u=n.directives,o=n.types;return c(['extend union',t,c(u,' '),o&&0!==o.length?'= '+c(o,' | '):''],' ')},EnumTypeExtension:function(n){var t=n.name,u=n.directives,o=n.values;return c(['extend enum',t,c(u,' '),f(o)],' ')},InputObjectTypeExtension:function(n){var t=n.name,u=n.directives,o=n.fields;return c(['extend input',t,c(u,' '),f(o)],' ')}};function o(n){return function(t){return c([t.description,n(t)],'\n')}}function c(n){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'';return null!==(t=null==n?void 0:n.filter((function(n){return n})).join(u))&&void 0!==t?t:''}function f(n){return l('{\n',s(c(n,'\n')),'\n}')}function l(n,t){return null!=t&&''!==t?n+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:''):''}function s(n){return l('  ',n.replace(/\n/g,'\n  '))}function v(n){return-1!==n.indexOf('\n')}function p(n){return null!=n&&n.some(v)}}),"a8b6d7",["13916e","b8f1b4"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.createTimeoutSignal=function(t){if(void 0===t||t<=0)return;if(n=AbortSignal,'timeout'in n)return AbortSignal.timeout(t);var n;const o=new AbortController;return setTimeout((()=>o.abort('undefined'!=typeof DOMException?new DOMException('signal timed out','TimeoutError'):'signal timed out')),t),o.signal};t(r(d[1]))}),"a9e08c",["ba7a76","58861b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeURLSearchParams=function(...n){const t=n.filter(Boolean);return t.length?1===t.length?new URLSearchParams(t[0]):new URLSearchParams(t.flatMap((n=>n instanceof URLSearchParams?[...n.entries()]:Array.isArray(n)?n:[...new URLSearchParams(n).entries()]))):void 0}}),"ab4631",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.contextGraphqlTransform=function(t,o,s,h){const{context:l,operationName:C,operation:N,variables:x,fetchPolicy:R}=t,T=`${(0,b().getHostAndPath)(h)}/${C}/${N.operationId}`,X=(0,S().mergeURLSearchParams)({operationName:C,...(0,y().getLocaleAndCurrencyQueryString)()},l?.searchParams),F=c.default.get('useViaductNext'),L=c.default.get('layout-init'),B=F?v:(0,p().formatUrl)(T,X),H=A(T,l?.fetchOptions?.method??'POST',s),U=N.document,V=l?.fetchOptions&&'body'in l.fetchOptions?l.fetchOptions.body:U&&JSON.stringify({operationName:C,query:(0,n().print)(U),variables:x}),w=l?.fetchOptions&&'body'in l.fetchOptions||V?void 0:(0,O().loadOperationDocument)(N).then((t=>JSON.stringify({operationName:C,query:(0,n().print)(t),variables:x})));return{...t,fetchUrl:B,context:{...l,searchParams:X,asyncHeaders:H,asyncBody:w,fetchOptions:{...l?.fetchOptions,body:V,headers:{...o,...l?.headers,...l?.fetchOptions?.headers,...t.headers,..._(V),...!F&&{'X-Airbnb-GraphQL-Platform':'web'},'X-Airbnb-GraphQL-Platform-Client':'minimalist-niobe','X-Niobe-Short-Circuited':'true',...L&&{'X-Client-Version':L?.appVersionFull},...(0,u.isCurrentDomainInChina)()?{[u.chinaPersonalizationHeaderName]:(0,u.loadChinaPersonalizationValueFromLocalStorage)().toString()}:{},...(0,P().default)(C)&&'no-cache'!==R&&!f.default.getBootstrap('sw_pwa_disable_niobe_cache')?{'X-Airbnb-SW-Fetch-Policy':R}:{}}}}}},e.contextRESTTransform=function(t,n,o,c){const{context:s,url:u}=t,f=(0,S().mergeURLSearchParams)(c?void 0:(0,y().getLocaleAndCurrencyQueryString)(),s?.searchParams,t.searchParams),h=t.method??s?.fetchOptions?.method??'GET',l=A(u,h,o),b=t.body??s?.fetchOptions?.body;return{...t,fetchUrl:(0,p().formatUrl)(u,f),context:{...s,searchParams:f,asyncHeaders:l,fetchOptions:{...s?.fetchOptions,method:h,body:b,headers:{..._(b),...n,...s?.headers,...s?.fetchOptions?.headers,...t.headers}}}}};var o=r(d[2]),c=t(r(d[3])),s=t(r(d[4])),u=r(d[5]),f=t(r(d[6]));function h(){const t=r(d[7]);return h=function(){return t},t}function l(){const t=r(d[8]);return l=function(){return t},t}function p(){const t=r(d[9]);return p=function(){return t},t}function b(){const t=r(d[10]);return b=function(){return t},t}function y(){const t=r(d[11]);return y=function(){return t},t}function P(){const n=t(r(d[12]));return P=function(){return n},n}function O(){const t=r(d[13]);return O=function(){return t},t}function S(){const t=r(d[14]);return S=function(){return t},t}const v='https://viaduct-next.d.musta.ch/v3';function A(t,n,o){const c=(0,l().getRecaptchaPlatformHeaders)(t,n);if(c)return c.then((c=>{if(c)return o.increment('frontend.niobe.recaptcha_v3.append_header',1,{client:'minimalist',endpoint:t,method:n}),c})).catch((t=>{o.increment('frontend.niobe.recaptcha_v3.error',1,{client:'minimalist',status:String(t.statusCode),message:String(t.message)})}))}function C(t){return'string'!=typeof t&&null!=t&&('undefined'!=typeof FormData&&t instanceof FormData||'undefined'!=typeof Blob&&t instanceof Blob||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||'undefined'!=typeof ReadableStream&&t instanceof ReadableStream)}function _(t){return{...C(t)?{}:{'Content-Type':'application/json'},'X-Airbnb-API-Key':h().API_KEY,'X-CSRF-Token':(0,s.default)(),'X-CSRF-Without-Token':'1',...(0,o.buildAirlockPermitV2Header)()}}}),"abc507",["ba7a76","a8b6d7","a145d5","ef2bc3","40eeb7","6d95ce","c235f8","286e0d","f5568d","45f45a","f8aa06","4c8a33","d8c0f0","4b7cf2","ab4631"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t?.ghostingAppeal?.redirectUri??null}}),"b1cb64",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){return 4}function n({attemptsCount:t,retryDelay:n}){const o=void 0===n?2500:n,s=Math.min(o*2**t,6e4);return Math.floor(Math.random()*(s+1))}Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalNetworkErrorRetrierAttempts=t,e.networkErrorRetrier=function({metricReporter:o,retryOnNetworkError:s,retryDelay:u,options:{context:{networkErrorAttemptsCount:p=0,fetchOptions:c={}}={},operation:y},result:f}){if('mutation'===y?.type||'subscription'===y?.type)return;const l=f.response?.headers;if(l&&'true'===l.get('x-airbnb-halt-retry'))return;const h=!f.response||502===f.response.status||503===f.response.status||504===f.response.status,b=t();if(s&&h&&p<b){p+=1,o.increment('frontend.niobe.network_retry',1,{status:String(f.response?.status),client_type:'niobe_minimalist'});const t=n({attemptsCount:p,retryDelay:u});return{context:new Promise((n=>{setTimeout(n,t)})).then((()=>({networkErrorAttemptsCount:p,fetchOptions:{...c,headers:{...c?.headers,'x-airbnb-retry':p}}}))),reason:'networkError'}}return}}),"b7fb26",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}function s(){const t=r(d[3]);return s=function(){return t},t}function c(){const t=r(d[4]);return c=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.metricsTransform=function(t,n,o){return{...t,context:{...t.context,startTime:n(),eventId:o(),clientTraceId:t?.context?.clientTraceId||o()}}},e.reportAPIResponseMetrics=async function({jitneyLogger:t,apiEventAttemptId:o,apiRequestId:c,result:h,options:l}){const{fetchUrl:T,type:L,operationName:I,context:x}=l,{fetchOptions:R,networkErrorAttemptsCount:S,clientTraceId:z}=x,A=R?.method??'POST';let q;const O=await y(T);if(O){q={response_decompressed_size:k(O),first_byte_time_ms:v(O),network_protocol:b(O),dns_lookup_time_ms:w(O),header_size:E(O)}}if(h.metrics){const{networkStart:t,networkBodyEnd:n,contentLength:o,serverTiming:s,contentType:c}=h.metrics;let _;try{_=JSON.stringify((0,f().parseServerTiming)(s))}catch{_=s}q={...q,response_over_the_wire_size:o??void 0,response_time_ms:Math.floor(n-t),server_timing:_??void 0,content_type:c??void 0}}let P,C;'graphql'===L&&(P=3,C=I);'rest'===L&&(P=2);let M='http://unknown';void 0!==window.location&&(M=window.location.origin??M);const{host:N,pathname:B}=new URL(T,M);t({schema:s().UniversalApiResponseEvent,event_data:{client_trace_id:z,event_id:o,request_id:c,http_status_code:h.response?.status??0,http_method:n().HttpMethodType[A.charAt(0).toUpperCase()+A.slice(1).toLowerCase()],domain_and_path:`${N}${B}`,host:N,path:B,error_code:h.error?.name,api_protocol:P,api_operation_name:C,retry_number:S,...q}});const j=l.context.fetchOptions?.headers;if(j[_.AIRLOCK_REPLAY_HEADER]&&p.default.isTrebuchetLaunched((0,u.default)('web.niobe.airlock_replay_tracking'))){const n=j[_.AIRLOCK_REPLAY_HEADER],o=l.context.airlockView;(0,_.logRequestReplayEvent)('requestReplayed',{jitneyLogger:t,airlockId:n,viewName:o,fetchUrl:T,requestId:c})}},e.reportMetrics=function(t,n,o,s,c,_){'rest'!==o.type&&A(n,o,s,c,_);'network'===c&&q(t,o,s);O(t,o,s)};var _=r(d[5]),p=t(r(d[6])),u=t(r(d[7])),h=t(r(d[8]));function l(){const t=r(d[9]);return l=function(){return t},t}function f(){const t=r(d[10]);return f=function(){return t},t}async function y(t){if(!performance?.getEntriesByType)return null;await Promise.resolve();const n=performance.getEntriesByType('resource').filter((n=>n.name.includes(t)));return n.length?n[n.length-1]:null}function v(t){return t.responseStart-t.requestStart}function w(t){return t.domainLookupEnd-t.domainLookupStart}function E(t){const n=t.transferSize-t.encodedBodySize;return n<0?0:n}function k(t){return t.decodedBodySize}function b(t){return t.nextHopProtocol}function T(t){return t?.errorType?t.errorType:1}function L(t){const{error:n,catchErrors:o,resultErrors:s}=t,{networkError:c,graphQLErrors:_}=n||{},p=[];if(o)for(const t of o)p.push({error_type:4,message:t.message,path:t.path?.join('.')??'',handled_by:1});if(s)for(const t of s)p.push({error_type:4,message:t.message,path:t.path?.join('.')??'',handled_by:2});if(_)for(const t of _)p.push({error_type:4,message:t.message,path:t.path?.join('.')??'',handled_by:3});return c&&p.push({error_type:T(c),message:c.message,handled_by:3,path:''}),p}function I(t){const{error:n,catchErrors:o,resultErrors:s}=t;return n?.graphQLErrors?.length?n.localizedMessage:n?.networkError?n.networkError.message:o?.length?(0,l().getLocalizedMessageFromGraphQLErrors)(o):s?.length?(0,l().getLocalizedMessageFromGraphQLErrors)(s):''}function x(t){const{error:n,catchErrors:o,resultErrors:s}=t;return Boolean(n&&!n.extraInfo?.aborted||o?.length||s?.length)?{has_error:!0,unexpected_errors:L(t),fatal_error_message:I(t)}:{has_error:!1,unexpected_errors:[],fatal_error_message:''}}function R(t,n){if('mutation'!==t.operationType)return null;const o='optimisticResponse'in t&&t.optimisticResponse;return{is_optimistic_mutation:Boolean(o),optimistic_response_changed:o?!(0,h.default)(o,n.data):void 0}}function S(t){const{fetchPolicy:n}=t;return['cache-and-network','cache-first','cache-only'].includes(n)}const z={'cache-and-network':'cacheAndNetwork','cache-first':'cacheFirst','cache-only':'cacheOnly','network-only':'networkOnly','no-cache':'noCache'};function A(t,n,s,_,p){const{floor:u}=Math;if('cache'!==_&&'cache-prefetch'!==_&&'network'!==_)return;const{operationName:h,operationType:l,context:{startTime:f,clientTraceId:y,eventId:v=""},fetchPolicy:w}=n;const E=_.startsWith('cache'),k='cache-prefetch'===_,b=S(n);t({schema:c().UniversalNiobeResponseEvent,event_data:{...(function(){const t=u(p-(f??0)),n={total_response_latency_ms:t,total_latency_ms:t,first_response_latency_ms:t},{metrics:o}=s;if(!o)return{...n,niobe_client_overhead_ms:t};const{networkStart:c,networkBodyEnd:h,payloadParseStart:l,payloadParseEnd:y,contentLength:v}=o;if('cache'===_||'cache-prefetch'===_)return{...n,niobe_client_overhead_ms:t,cache_response_byte_size:v||void 0};const w=u(h-c),E=u(y-l),k=u(t-w);return{...n,network_deserialization_latency_ms:E,network_request_latency_ms:w,network_load_latency_ms:w,network_response_byte_size:v||void 0,cache_response_byte_size:v||void 0,niobe_client_overhead_ms:k}})(),...x(s),...R(n,s),event_id:v,client_trace_id:y,request_event_ids:s.metrics?.requestEventIds??[],operation_name:h,operation_type:o().ApiOperationType[l],request_strategy:z[w],operation_id:n.operation?.operationId,cache_type:E?2:void 0,cached_data_is_exact_match:E,cached_data_is_from_prefetch:E?k:void 0,had_cached_data:b?E:void 0,fetch_priority:'prefetch'===n.context.type?2:1,http_status_code:s.response?.status??0,was_cancelled:(n.signal?.aborted||s.error?.extraInfo?.aborted)??!1}})}function q(t,{operationName:n,operationType:o,type:s,context:{fetchOptions:{body:c,headers:_,method:p}={}}},{error:u}){const h={type:s,method:p,operation_type:o,operation_name:n,result:u?'error':'success',content_type:_['Content-Type'],body_type:null!=c?c.constructor?.name||'unknown':'undefined',client_type:'niobe_minimalist'};t.increment('frontend.niobe.api_request',1,h)}function O(t,n,o){if(o.error){const{networkError:s,graphQLErrors:c}=o.error;let _={type:n.type,operation_name:n.operationName,client_type:'niobe_minimalist'};s?_={..._,error_type:'NetworkError',error_name:s.name,status_code:s.statusCode?String(s.statusCode):void 0}:c&&c.length&&(_={..._,error_type:'GraphQLError',error_name:c[0].name,error_status_code:String(c[0].extensions?.response?.statusCode)}),t.increment('frontend.niobe.error',1,_)}}}),"b80b94",["ba7a76","397ad2","627d41","8e84bb","31bc12","a145d5","dcc72a","2c6bf9","3dcd9d","e38e79","2f6e7b"]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(n){for(var t=0;t<n.length;++t)if(' '!==n[t]&&'\t'!==n[t])return!1;return!0}function t(n){for(var t,l=!0,o=!0,c=0,u=null,f=0;f<n.length;++f)switch(n.charCodeAt(f)){case 13:10===n.charCodeAt(f+1)&&++f;case 10:l=!1,o=!0,c=0;break;case 9:case 32:++c;break;default:o&&!l&&(null===u||c<u)&&(u=c),o=!1}return null!==(t=u)&&void 0!==t?t:0}Object.defineProperty(e,"__esModule",{value:!0}),e.dedentBlockStringValue=function(l){var o=l.split(/\r\n|[\n\r]/g),c=t(l);if(0!==c)for(var u=1;u<o.length;u++)o[u]=o[u].slice(c);var f=0;for(;f<o.length&&n(o[f]);)++f;var h=o.length;for(;h>f&&n(o[h-1]);)--h;return o.slice(f,h).join('\n')},e.getBlockStringIndentation=t,e.printBlockString=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'',l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1===n.indexOf('\n'),c=' '===n[0]||'\t'===n[0],u='"'===n[n.length-1],f='\\'===n[n.length-1],h=!o||u||f||l,s='';!h||o&&c||(s+='\n'+t);s+=t?n.replace(/\n/g,'\n'+t):n,h&&(s+='\n');return'"""'+s.replace(/"""/g,'\\"""')+'"""'}}),"b8f1b4",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.redirectOnKrakenAuthenticationError=function(t){if(!t.error?.networkError)return!1;const{networkError:c}=t.error;if(401===c.statusCode&&u(c.result)){const t=c.result.redirect_url??'',[u,s]=t.split('?');if(u&&window.location.pathname!==u){let t;s&&(t=(0,n.default)(`?${s}`)),(0,o.replaceToHistory)(u,{maintainQueryParams:!0,params:t})}return!0}return!1};var n=t(r(d[1])),o=r(d[2]);function u(t){if(!t||'object'!=typeof t)return!1;const n=t;return 401===n.error_code&&'authentication_required'===n.error}}),"bf6bc6",["ba7a76","a7c4ef","4ee5a9"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.OPERATION_REGISTRY_VERSION=void 0,e.operationRegistryRetrier=function(t,o,s){if(s.error?.graphQLErrors&&s.error?.graphQLErrors.some((({message:t})=>'PersistedQueryNotFound'===t))||'persisted_query_not_found'===s.error?.networkError?.result?.error_type){const{operation:s}=o;if(!s)return;const p=(0,n().loadOperationDocument)(s),c={method:'query'!==s.type||o.usePOSTForQuery?'POST':'GET',operation_type:s?.type,operation_name:o.operationName,client_type:'niobe_minimalist'};return t.increment('frontend.niobe.operation_registry.error',1,{...c,error_type:'GraphQLError',error_name:'PersistedQueryNotFound'}),s.document?{context:{skipOperationRegistry:!0},reason:'operationRegistry'}:{context:p.then((()=>({skipOperationRegistry:!0}))),reason:'operationRegistry'}}},e.operationRegistryTransform=function(t,n,u){const{operationName:y,operation:_}=n,f=_?.operationId,O=_?.type;if(n.context?.skipOperationRegistry||!_||!f||o.default.get('useViaductNext'))return t.increment('frontend.niobe.operation_registry.skip',1,{operation_type:O,operation_name:y,client_type:'niobe_minimalist'}),{...n,context:{...n.context,operationId:void 0}};f||t.increment('frontend.niobe.operation_registry.missing_operation_id',1,{operation_type:O,operation_name:y,client_type:'niobe_minimalist'});const l=n,h={...l?.extensions,persistedQuery:{version:p,sha256Hash:f}};if('query'===_.type&&!l.usePOSTForQuery&&!u){const t=(0,s().mergeURLSearchParams)(l?.context?.searchParams,{...l?.variables?{variables:JSON.stringify(l?.variables)}:{},extensions:JSON.stringify(h)});if(!t||t.toString().length<c)return{...l,context:{...l?.context,operationId:f,searchParams:t,fetchOptions:{...l?.context?.fetchOptions,method:'GET',body:void 0}}}}return{...l,context:{...l?.context,operationId:f,fetchOptions:{...l?.context?.fetchOptions,method:'POST',body:JSON.stringify({operationName:l.operationName,variables:l.variables,extensions:h})}}}};var o=t(r(d[1]));function n(){const t=r(d[2]);return n=function(){return t},t}function s(){const t=r(d[3]);return s=function(){return t},t}const p=e.OPERATION_REGISTRY_VERSION=1,c=3500}),"c0fdc0",["ba7a76","ef2bc3","4b7cf2","ab4631"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscribeMutationOperation=void 0;var n=t(r(d[1]));e.UnsubscribeMutationOperation={document:void 0,getDocument:()=>r(d[3])(d[2]).then(n.default).then((t=>t.default)),name:'UnsubscribeMutation',type:'mutation',operationId:'accc8115c189c60629025981d7d23d3a4e33de11783b0c489ea677185c6da47f'}}),"ceadbe",["ba7a76","45f788","2018fb","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(t,s){if(this.code=void 0,this.status=void 0,this.url=void 0,!t)throw new ReferenceError('E03 (https://air.bb/hl-E03): URL is required');this.code='HYPERLOOP_REDIRECT',this.url=t,this.status=s||302}static isRedirect(t){return'HYPERLOOP_REDIRECT'===t?.code}}}),"cfeceb",[]);
__d((function(g,r,i,a,m,e,d){}),"d5233a",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return t.includes(u)};const t=['CityPortalAllUsersPageQuery','CityPortalJurisdictionBySlugQuery','CityPortalCompliancePageQuery']}),"d8c0f0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){navigator.serviceWorker.controller?.postMessage({type:'NIOBE_RESULT_ERROR',key:t})}}),"e15052",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalizedTitleFromGraphQLErrors=e.getLocalizedMessageFromGraphQLErrors=void 0;e.getLocalizedMessageFromGraphQLErrors=o=>{for(const{extensions:s}of o)if(s?.localizedMessage)return s.localizedMessage};e.getLocalizedTitleFromGraphQLErrors=o=>{for(const{extensions:s}of o)if(s?.localizedTitle)return s.localizedTitle}}),"e38e79",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t,n,o){o.increment('frontend.niobe.response_headers',1,{action:t,header:n})}Object.defineProperty(e,"__esModule",{value:!0}),e.createNiobeHeaders=function(n,o){return{get:s=>(t('get',s,o),n.get(s)),has:s=>(t('has',s,o),n.has(s)),toJSON:()=>{}}}}),"e5ad88",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.transformResponseWithResults=function(n,o){if(!o)return n;if('rest'===o.type)return n;if(!o.operation)return n;const{operation:s}=o,{resultItemsLocators:u}=s;return u?(0,t().catchErrorsInResponse)(n,u,'result'):n}}),"e8dfb1",["74aeec"]);
__d((function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.redirectToAirlock=function(o){window.location.href=o};o(r(d[1]))}),"e91c21",["ba7a76","cfeceb"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const o=r(d[0]);return t=function(){return o},o}Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeQueryRef=void 0;class o{constructor(t){this.options=void 0,this.result=void 0,this.promise=void 0,this.clientType=void 0,this.deferred=void 0,this.taskController=void 0,this.clientType=t.clientType,this.deferred=t.deferred,this.options=t.options,this.promise=t.promise,this.result=t.result??null,this.taskController=t.options.context?.taskController,this.result||this.promise.then((t=>{this.result=t}))}static for(s){const{result:n,promise:l}=s,c=o.memo.get(l),u=n&&o.memo.get(n),p=c||u;if(p){const o=p.clientType===s.clientType,{options:n}=p,{options:l}=s,c=JSON.stringify((0,t().convertToStableObjectOrder)(n))===JSON.stringify((0,t().convertToStableObjectOrder)(l));if(o&&c)return p}const h=new o(s);return o.memo.set(h.promise,h),h.result&&o.memo.set(h.result,h),h.promise.then((t=>o.memo.set(t,h))),h}}e.NiobeQueryRef=o,o.memo=new WeakMap}),"ee1cae",["fad99e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AIRLOCK_REPLAY_HEADER=e.AIRLOCK_PERMIT_V2_HEADER=void 0;e.AIRLOCK_REPLAY_HEADER='X-Airbnb-Replay-Airlock-Id',e.AIRLOCK_PERMIT_V2_HEADER='X-Airbnb-Supports-Airlock-V2'}),"f3d6f1",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getRecaptchaPlatformHeaders=function(t,o){if(!(0,n.deliverNiobeBotDetection)())return null;const s=(0,c.maybeGetRecaptchaV3TokenHeader)(t,o,!0);if(!s)return null;return s()},e.recaptchaRetrier=function(t,n){const c=n.error?.graphQLErrors?.find(f);if(!c)return;const h=u(c.path);return{context:(0,o.getRecaptchaV3TokenHeader)({action:h,timeoutInMs:5e3,maxRetries:5,shouldThrow:!0}).then((n=>{const o=t.context?.fetchOptions;return{content:{fetchOptions:{...o,headers:{...o?.headers,...n}}}}})).catch((()=>{(0,s.default)()})),reason:'recaptcha'}};var n=r(d[1]),o=r(d[2]),c=r(d[3]),s=t(r(d[4]));const u=t=>{if(void 0===t)return'unknown';const n=t[0];return'number'==typeof n?String(n):n},f=t=>{const{extensions:{errorClass:n="",errorType:o="",response:{statusCode:c=0}={}}={}}=t;return"ValidationRequiredException"===n||"validation_required"===o||440===c}}),"f5568d",["ba7a76","60f717","fa27ff","913737","178cf3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHostAndPath=function(n){return process?.env?.NIOBE_ENDPOINT?process.env.NIOBE_ENDPOINT:t};const t='/api/v3'}),"f8aa06",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.httpResolver=async function(p,y,h,f,E){const{context:w,fetchUrl:b,operationName:T,multiAbortController:{signal:N}}=E,{asyncHeaders:k,asyncBody:v,fetchOptions:x,clientTraceId:S}=w,O=x?.method??'POST',$={...k?await k:{},...x?.headers,'x-client-request-id':String(f),'x-airbnb-client-trace-id':String(S)},C=v?await v:x?.body,I=p.now(),L=y(b,{...x,body:C,signal:N,headers:$,method:O});try{const t=await L;h?.dispatchEvent((0,n().createFetchSuccessEvent)());const o=p.now(),{headers:y,ok:f,status:w,statusText:b}=t,T=y.get('content-type'),N=y.has('content-length')?Number(y.get('content-length')):null,k={ok:f,status:w,statusText:b,headers:(0,s().createNiobeHeaders)(y,p)},v=await t.text(),x=p.now();try{const t=p.now(),n='rest'===E.type,s=''===v?.trim()&&n?{}:JSON.parse(v),l=n?{data:s}:s,h=p.now(),{errors:f=[]}=l,b=u(w,v),S={contentType:T,contentLength:N,networkStart:I,networkHeadersEnd:o,networkBodyEnd:x,payloadParseStart:t,payloadParseEnd:h,serverTiming:y.get('server-timing')},O=(0,c().getNiobeError)(f,b);return{...l,response:k,metrics:S,...O?{error:O}:{}}}catch(t){return l({message:`Network error (parse): ${t.message}`,response:k,body:v,errorType:3})}}catch(s){if((0,t.isAbortError)(s))return{data:null,error:{extraInfo:{aborted:!0},graphQLErrors:[],message:s.message,name:s.message,networkError:null}};if(h?.dispatchEvent((0,n().createFetchFailureEvent)()),'ECONNABORTED'===s.code){const t=(0,o().ssrTimeoutError)(T,s);return(0,o().reportNiobeError)(t),{data:null,error:{extraInfo:{ssrNetworkTimeout:!0},graphQLErrors:[],message:t.message,name:t.message,networkError:t}}}return l({message:`Network error (connection): ${s.message}`,errorType:1})}};r(d[0]);var t=r(d[1]);function n(){const t=r(d[2]);return n=function(){return t},t}function o(){const t=r(d[3]);return o=function(){return t},t}function s(){const t=r(d[4]);return s=function(){return t},t}function c(){const t=r(d[5]);return c=function(){return t},t}function u(t,n){if(t>=300){const o=new Error(`Received unexpected status code ${t}`);o.statusCode=t,o.body=n;try{o.result=n&&JSON.parse(n),o.errorType=2}catch{}return o}return null}function l({message:t,response:n,body:o,errorType:s}){const c=new Error(o?`${t}. Received body: ${o}`:t);return c.statusCode=n?.status,c.body=o,c.errorType=s,{data:null,error:{name:t,message:t,networkError:c,graphQLErrors:[],extraInfo:null},response:n}}}),"f9267b",["d5233a","a2c93f","da80b1","e2d715","e5ad88","0f426d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToStableObjectOrder=function t(o){if(Array.isArray(o))return o.map((o=>t(o)));if('object'==typeof o&&null!==o){const n=o;return'function'==typeof n.toJSON?t(n.toJSON()):Object.keys(o).sort().reduce(((n,c)=>(n[c]=t(o[c]),n)),{})}return o}}),"fad99e",[]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/c152.02867ef714.js.map