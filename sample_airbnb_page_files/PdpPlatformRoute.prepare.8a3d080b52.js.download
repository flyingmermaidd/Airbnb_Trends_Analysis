__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=r(d[2]),o=t(r(d[3])),l=r(d[4]),u=r(d[5]),p=t(r(d[6])),c=t(r(d[7]));e.default=({location:t,match:f,loadQuery:h,previousLocation:_,previousPrepareProps:b,customPrepareNiobeData:v,flagger:I})=>{const{id:y}=f.params,{source_impression_id:P}=(0,p.default)(t.search),k=t.pathname.split(y)[0]===_?.pathname.split(y)[0];if(b&&k)return b;const q=Boolean(v.launchPdpUncaching),w=P||v.p3_impression_id||(0,u.generateId)(),D='treatment'===I.findTreatment((0,s.default)('wishlist_tenant_integration_web'));return{queryRef:h({query:o.default,variables:(0,l.getRequestVariables)({location:t,match:f,p3ImpressionId:w,wishlistTenantIntegrationEnabled:D}),deferrable:q}),skeletonQueryRef:h({query:c.default,variables:{id:(0,n.createGlobalId)('DemandStayListing',f.params.id),fetchImages:!1},skip:!q}),showDeferredSkeleton:q,isElvisListing:v.iconsSitarCheck===y,p3ImpressionId:w}}}),"1d2725",["ba7a76","4d3544","56afe0","7096f2","99b905","eb5cb3","a7c4ef","27f4f9"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));const f={document:void 0,getDocument:()=>r(d[3])(d[2]).then(u.default).then((t=>t.default)),name:'PdpEarlyFlushMetadataV2Query',type:'query',operationId:'6d5d03fe66eba083d1eba3f668eef4eab5375087e162f826cd22d5bea6bb75fb'};e.default=f}),"27f4f9",["ba7a76","45f788","2cfb91","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{amenities:n}=(0,u.default)(t.search);if(null==n||!Array.isArray(n))return null;return n.filter((t=>t)).map((t=>Number(t)))};var u=t(r(d[1]))}),"35872a",["ba7a76","a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return s(t.search)},e.setTranslateUgcParam=function(t){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===t)return;const s=(0,u.default)(),f='UNTRANSLATED'===t,h=(0,o.default)({...s,translate_ugc:String(f)},n.default),{hash:p,pathname:w,search:_}=window.location,y=(0,l.default)({params:h,pathname:w,search:_})+p;(0,c.getHistory)().replace(y)};var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]),l=t(r(d[4])),o=t(r(d[5]));function s(t){const{translate_ugc:n}=(0,u.default)(t);return n?'true'===n:null}}),"5dafcf",["ba7a76","88e3c5","a7c4ef","7934b6","99d1d8","c97d21"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));const f={document:void 0,getDocument:()=>r(d[3])(d[2]).then(u.default).then((t=>t.default)),name:'StaysPdpSections',type:'query',operationId:'a8e7869df1ff339fa1db603a06a7317de0d36529263632c216160b659ed6d623'};e.default=f}),"7096f2",["ba7a76","45f788","0b8924","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{display_extensions:u}=(0,n.default)(t.search);if(null==u||!Array.isArray(u))return null;return u.map((t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null))};var n=t(r(d[1]))}),"7692ad",["ba7a76","a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}}),"874bf3",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return c(t.search)};var u=t(r(d[1]));function c(t){const{pdp_type_override:c,tier_override:n}=(0,u.default)(t);if(n&&'0'===n)return'MARKETPLACE';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';default:return}}}),"8ceb28",["ba7a76","a7c4ef"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:t=!1,location:_,match:I,p3ImpressionId:h,wishlistTenantIntegrationEnabled:y}){const f=(0,n.createGlobalId)('StayListing',I.params.id),k=(0,s.default)(_.search),{adults:b,bypass_targetings:S,cancellation_policy_id:v,category_tag:T,cause_id:w,check_in:N,check_out:P,children:E,disaster_id:O,discountedGuestFeeVersion:B=null,federatedSearchId:M=null,federated_search_id:U=null,force_boost_unc_priority_message_type:A,guests:C,host_preview:G,infants:R,interactionType:V=null,mockId:q,omni_page_id:x,omni_version_id:D,original_check_in:F,original_check_out:L,pets:W,photoId:j=null,photo_id:z=null,preview:H,priceDropSource:J,private_booking:K,promotionUuid:Q,rate_plan_id:X,relaxed_amenity_ids:Y,searchId:Z=null,staysBookingMigrationEnabled:$=null,useNewSectionWrapperApi:ee=null}=k,te={adults:b||C||'1',amenityFilters:(0,o.default)(_),bypassTargetings:'true'===S,categoryTag:T||null,causeId:w||null,children:E||null,disasterId:O||null,discountedGuestFeeVersion:Number(B)||null,displayExtensions:(0,u.default)(_),federatedSearchId:M||U,forceBoostPriorityMessageType:A||null,hostPreview:'true'===G,infants:R||null,interactionType:V,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:x,omniVersionId:D,pets:Number(W)||0,pdpTypeOverride:(0,c.default)(_)||null,photoId:j||z,preview:'true'===H,previousStateCheckIn:F||null,previousStateCheckOut:L||null,priceDropSource:J||null,privateBooking:'true'===K,promotionUuid:Q||null,relaxedAmenityIds:Y||null,searchId:Z,selectedCancellationPolicyId:Number(v)||null,selectedRatePlanId:Number(X)||null,splitStays:t?(0,p.default)({id:f,queryParams:k}):null,staysBookingMigrationEnabled:'true'===$,translateUgc:(0,l.getTranslateUgcParam)(_),useNewSectionWrapperApi:'true'===ee,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:h};N&&P&&(te.checkIn=N,te.checkOut=P);return{id:f,pdpSectionsRequest:te,...q&&{mockIdentifier:q},wishlistTenantIntegrationEnabled:y}};var n=r(d[1]),l=r(d[2]),s=t(r(d[3])),o=t(r(d[4])),u=t(r(d[5])),c=t(r(d[6])),p=t(r(d[7]))}),"99b905",["ba7a76","56afe0","5dafcf","a7c4ef","35872a","7692ad","8ceb28","874bf3"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce(((t,[n,c])=>(u(c,n)&&(t[n]=c),t)),{})}}),"c97d21",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setImpressionId=e.resetImpressionId=e.generateId=e.default=void 0;var s=r(d[0]);let t;const n=()=>`p3_${(0,s.computeBev)('P3')}`;e.generateId=n;const o=()=>{t=n()};e.resetImpressionId=o;e.setImpressionId=s=>{t=s},o();e.default=()=>t}),"eb5cb3",["b4aab0"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-route/routes/PdpPlatformRoute.prepare.65c556232c.js.map