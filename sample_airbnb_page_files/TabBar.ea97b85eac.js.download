__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,_=r(d[1]).default;function s(){const t=r(d[2]);return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({skipIntroAnimations:t}){const _=(0,f.useCx)(),w=(0,u.default)()===u.FORM_FACTOR.COMPACT,[j,h]=(0,s().useAnimate)();(0,n.useLayoutEffect)((()=>{if(t)return;const _=j.current;h([[_,{rotate:[35,-8]},{ease:[.4,0,.2,1],duration:.5}],[_,{rotate:[-8,0]},{type:'spring',mass:1,stiffness:80,damping:5.4}]])}),[j,h,t]);const k=o.default.t('tabbed_homepage.new_badge'),{isShort:x}=(0,c.default)(),y=w&&x,v=1===(0,p.default)().browserFontRatio&&'NEW'===k&&!y,q=!y;return(0,l.jsx)("span",{ref:j,className:_(b.badge,w?b.badge_compact:b.badge_wide),"date-testid":"tab-bar-new-badge",children:(0,l.jsxs)("span",{className:_(b.text,b.text_shared),children:[k,q&&(0,l.jsx)("span",{className:_(b.text_mirrored,b.text_shared),"aria-hidden":!0,children:k}),v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:_(b.sunspot,b.sunspot_one)}),(0,l.jsx)("span",{className:_(b.sunspot,b.sunspot_two)})]})]})})};r(d[3]);var n=r(d[4]),o=_(r(d[5])),u=(_(r(d[6])),t(r(d[7]))),c=_(r(d[8])),f=r(d[9]),p=_(r(d[10])),l=(r(d[11]),r(d[12]));const b={badge:"bd8bnzg atm_5j_1pabvb2 atm_26_1um2y4w atm_70_1akgpp0 atm_73_usvi9m atm_9s_1o8liyq atm_c8_ftgil2 atm_fq_1osqo2v atm_l8_84jpoz atm_mk_stnw88 atm_tw_wq6zvn atm_vb_glywfm atm_l8_16deowv__2ygr2h",badge_compact:"b1beotmp atm_tk_1lpd5c9 atm_tk_d439wh__2ygr2h atm_tk_yr36c9__600n0r",badge_wide:"b512q93 atm_tk_14idwd0 atm_tk_f0llp1",text:"tabpf9d atm_26_6ohgzc atm_7l_1p8m8iw atm_mk_h2mmj6 atm_r3_1h6ojuz atm_9s_1ulexfb__2ygr2h",text_mirrored:"to70j37 atm_26_1m5hczu atm_aj_1s5rtyo atm_7l_1j28jx2 atm_fq_idpfg4 atm_jd_1lyw7mt atm_k4_si67jz atm_mk_stnw88 atm_tr_1e44w1f",text_shared:"t1u64idx atm_ti_1q9ccgz atm_2a_1kdvhqb atm_cs_19iasv6 atm_fr_l10qc1 atm_g3_19bvopo atm_sw_xddsg3 atm_t9_angws6",sunspot:"swfryfz atm_26_5cptmk atm_aj_105mqiy atm_e2_i2wt44 atm_jd_1bjz6bp atm_k4_1m5yvhi atm_mk_stnw88 atm_vy_i2wt44",sunspot_one:"s19kt2nl atm_tk_idpfg4 atm_fq_1l7b3ar",sunspot_two:"s53q18r atm_tk_j7sf8r atm_fq_uea45o"}}),"0f22c2",["45f788","ba7a76","8e8be5","ea4b89","07aa1f","a9f4b1","de2718","e0b071","644295","4786a8","170e2d","6d0585","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n=>{t.forEach((t=>{'function'==typeof t?t(n):null!=t&&(t.current=n)}))}}}),"0f3ea6",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,n,o=!0){const[c,s]=(0,t.useState)(o?u:void 0);return(0,t.useEffect)((()=>{const t=setTimeout((()=>{s(u)}),n);return()=>{clearTimeout(t)}}),[u,n]),c};var t=r(d[0])}),"105c8a",["07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{methodsWithLogging:o}=(0,n.default)('TabBarItem',{loggingID:t,methods:{onTabClick:[2]}});return o.onTabClick};var n=t(r(d[1]))}),"275434",["ba7a76","b7564f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){if('SET_RECTS'===n.type)return{containerRect:n.containerRect,elementIdToDOMRect:n.elementIdToDOMRect};return t}}),"2bce87",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useHapticFeedback=function(){const p=(0,t.useRef)((0,n.usePostTaskScheduler)({name:'Haptic'})),l=(0,t.useCallback)((function t(n,u){if(u?.aborted)return 0;const s=n.shift()??[];if(!Array.isArray(s)){const{pauseDuration:o}=s;return p.current.scheduler.setTimeout((()=>t(n,u)),o)}return f(s),n.length>0?t(n,u):0}),[]),h=(0,t.useCallback)((()=>f(0)),[]);return{getFadeIn:u,getFadeOut:s,getPause:c,getPulse:o,runSequence:l,stop:h,vibrate:f}};var t=r(d[0]),n=r(d[1]);function u({duration:t,steps:n=10}){if(t<100)return[t];const u=t/100,s=[];for(let t=1;t<=n;t++){const o=t*u;s.push(o),t<n&&s.push((n-t)*u)}return s}function s(t){return u(t).reverse()}function o({duration:t,on:n,off:u}){const s=[];s.push(n);let o=t-n;for(;o>0;){if(u%o==0){const t=Math.abs(o-u);o-=t,s.push(t)}else o-=u,s.push(u);o>0&&(o-=n,s.push(n))}return s}function c({duration:t}){return{pauseDuration:t,type:'pause'}}function f(t){if('vibrate'in navigator)try{return navigator.vibrate(t)}catch{return!1}return!1}}),"368e1d",["07aa1f","53bb4a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const[o,u]=(0,s.useState)();return(0,s.useEffect)((()=>{const s=(0,t.isUCBrowser)()||(0,t.isQQAppBrowser)()||(0,t.isWechatBrowser)()||(0,t.isAlipayAppBrowser)();u(!s)}),[]),void 0===o||o};var s=r(d[0]),t=r(d[1])}),"410d1b",["07aa1f","e9b7bf"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default,t=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({elementsContainerRef:n,elementIdToRef:t,activeElementId:x,stylingOptions:A={},skipIntroAnimations:R,skipAllAnimations:j}){const{hasRoundedEdges:q=!0,underlineHeight:E=p,underlineBottom:v=b}=A,z=(0,_.useCx)(),C=(0,c.default)()===c.Direction.LTR,I=C?'left':'right',[O,T]=(0,l.useReducer)(f.default,{containerRect:null,elementIdToDOMRect:null}),M=(0,l.useCallback)((()=>{if(!n.current||!Object.keys(t).length)return;const l={};for(const[n,_]of Object.entries(t)){if(!_||!_.current)return;l[n]=_.current.getBoundingClientRect()}T({type:'SET_RECTS',containerRect:n.current.getBoundingClientRect(),elementIdToDOMRect:l})}),[n,t]),[$,N]=(0,l.useState)(0),D=(0,u.default)($,100),{ref:X}=(0,o.useElementSize)({monitor:'width',mode:'callback-only',threshold:1,onSizeChanged:({width:n})=>N(n)}),B=(0,s.default)().browserFontSize;(0,l.useLayoutEffect)(M,[M,D,B]);const F=O.containerRect?.[I],L=x?O.elementIdToDOMRect?.[x]:null,H=L?.[I],P=L?.width;let G=null,J=null,K=null,Q=null;if('number'==typeof H&&'number'==typeof F&&'number'==typeof P){const n=q?E:0,t=H-F,l=C?t+n:t-n,_=P-2*n;J=l,K=_/k,q&&(G=C?l-n:l+n,Q=C?l+_:l-_)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:z(S.widthContainer),ref:X,"data-testid":"elements-underline"}),'number'==typeof J&&'number'==typeof K&&(0,h.jsxs)("span",{className:z(S.underlineContainer),style:{[y]:`${E}px`,[w]:0!==v?`${v}px`:v},children:['number'==typeof G&&(0,h.jsx)("span",{className:z(S.underlineShared,R&&S.underlineShared_skipIntroAnimations,j&&S.underlineShared_skipAllAnimations,S.underlineEdge,S.underlineEdge_trailing),style:{transform:`translateX(${G}px)`}}),(0,h.jsx)("span",{className:z(S.underlineShared,R&&S.underlineShared_skipIntroAnimations,j&&S.underlineShared_skipAllAnimations,S.underlineMain),style:{transform:`translateX(${J}px) scaleX(${K})`}}),'number'==typeof Q&&(0,h.jsx)("span",{className:z(S.underlineShared,R&&S.underlineShared_skipIntroAnimations,j&&S.underlineShared_skipAllAnimations,S.underlineEdge,S.underlineEdge_leading),style:{transform:`translateX(${Q}px)`}})]})]})};r(d[2]);var l=r(d[3]),_=(r(d[4]),r(d[5])),s=t(r(d[6])),u=(r(d[7]),t(r(d[8]))),o=r(d[9]),c=n(r(d[10])),f=t(r(d[11])),h=r(d[12]);const p=3,y='--elements-underline--height-px',b=0,w='--elements-underline--bottom',k=10,S={widthContainer:"w116gqqs atm_mk_stnw88 atm_tk_idpfg4 atm_vy_1ssbidh atm_e2_idpfg4",underlineContainer:"u13oh0dj atm_mk_stnw88 atm_6i_idpfg4 atm_fq_idpfg4",underlineShared:"uf00an2 atm_mk_stnw88 atm_6i_8vkjn5 atm_fq_idpfg4 atm_e2_1947zx8 atm_2d_dezgoh atm_tw_1e5hqsa atm_uc_cn8o30 atm_1c_4cnv5l__1igb08s atm_q_1bwjh7f__1igb08s atm_y_ccgtyg__1igb08s atm_1k_1ar7sfh__1igb08s atm_12_1hrf63d__1igb08s",underlineShared_skipIntroAnimations:"u1jdszw8 atm_p_glywfm",underlineShared_skipAllAnimations:"u1kcc9rk atm_p_glywfm atm_uc_glywfm",underlineMain:"u5qpc90 atm_vy_19bvopo atm_2d_dezgoh",underlineEdge:"u95oc72 atm_vy_1947zx8",underlineEdge_trailing:"u10l0ebv atm_6a_1lhr6wq atm_6a_1lhr6wq__oggzyc atm_43_1lhr6wq__oggzyc",underlineEdge_leading:"u31xwac atm_6c_1lhr6wq atm_6c_1lhr6wq__oggzyc atm_45_1lhr6wq__oggzyc"}}),"41fbe9",["45f788","ba7a76","ea4b89","07aa1f","daa5d1","4786a8","170e2d","aabdb1","105c8a","c376e0","dbfcd8","2bce87","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,o=r(d[1]).default;function c(){const t=r(d[2]);return c=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({selectedTab:t,onTabSelect:o,placement:P="HOMEPAGE",__happoFocus:O=!1}){var k=(0,V.useSignals)(1);try{const V=(0,f.useLocation)(),k=(0,E.useCx)(),L=(0,S.default)(),M=['ka'].includes(l.default.options.locale),w=(0,s.useCallback)((t=>{let o='/';switch(t){case'STAYS':o='/homes';break;case'EXPERIENCES':o='/experiences';break;case'SERVICES':o='/services';break;default:o='/'}(0,T.replaceToHistory)(o,{maintainQueryParams:!0})}),[]),[N,x]=(0,R.useUIState)(p.HasInitialUnveilOccurredKey);(0,s.useEffect)((()=>{if(L)return;const t=setTimeout((()=>{x(!0)}),1e3);return()=>clearTimeout(t)}),[L,x]);const Y='motion'!==u.motionPreference.user.value,D=Y||N,[W]=(0,R.useUIState)(C.ProbableSelectedTabKey),F=(0,v.makeInitialTabBarReducerState)(t||W||void 0),[j,H]=(0,s.useReducer)(v.default,F);(0,s.useLayoutEffect)((()=>{t&&!j.hasClickJustOccurred&&t!==j.selectedTab&&H({type:'AUTO_SELECT_TAB',selectedTab:t})}),[t,j.selectedTab]);const X=(0,s.useRef)(null),q=(0,s.useRef)(null),U=(0,s.useRef)(null),G=(0,s.useRef)(null),z=(0,A.useEvent)((t=>{H({type:'MANUALLY_SELECT_TAB',selectedTab:t}),requestAnimationFrame((()=>{H({type:'UNSET_HAS_CLICK_JUST_OCCURRED',selectedTab:null})})),o&&o(t),'HOMEPAGE'===P&&w(t)})),B=(0,s.useRef)(null),K=(0,s.useRef)(null),$=(0,s.useRef)(null),J=(0,s.useCallback)((t=>{switch(t.key){case'ArrowLeft':case'ArrowRight':{const o=j.selectedTab;let c='STAYS';'STAYS'===o&&'ArrowRight'===t.key?c='EXPERIENCES':'STAYS'===o&&'ArrowLeft'===t.key?c='STAYS':'EXPERIENCES'===o&&'ArrowRight'===t.key?c='SERVICES':'EXPERIENCES'===o&&'ArrowLeft'===t.key?c='STAYS':'SERVICES'===o&&'ArrowRight'===t.key?c='SERVICES':'SERVICES'===o&&'ArrowLeft'===t.key&&(c='EXPERIENCES'),c!==o&&z(c),'STAYS'===c&&B.current?.focus(),'EXPERIENCES'===c&&K.current?.focus(),'SERVICES'===c&&$.current?.focus(),t.preventDefault();break}case'Home':z('STAYS'),B.current?.focus(),t.preventDefault();break;case'End':z('SERVICES'),$.current?.focus(),t.preventDefault()}}),[z,j.selectedTab]),Q=(0,_.default)()===_.FORM_FACTOR.WIDE,Z=!Q,ee=Z&&'function'==typeof window.matchMedia&&window.matchMedia('(orientation:landscape)').matches,te=Z&&!ee,{scrollY:oe}=(0,c().useScroll)();let ae=(0,c().useTransform)(oe,[0,.3*p.SCROLL_DISTANCE_COMPACT_PORTRAIT,.6*p.SCROLL_DISTANCE_COMPACT_PORTRAIT,p.SCROLL_DISTANCE_COMPACT_PORTRAIT],[1,1,0,0]);(Q||ee)&&(ae=void 0);let ce=(0,c().useTransform)(oe,[0,p.SCROLL_DISTANCE_COMPACT_PORTRAIT],[1,.4]);(Q||ee)&&(ce=void 0);let se=(0,c().useTransform)(oe,[0,p.SCROLL_DISTANCE_COMPACT_PORTRAIT],[0,-3]);(Q||ee)&&(se=void 0);let re=(0,c().useTransform)(oe,[0,p.SCROLL_DISTANCE_COMPACT_LANDSCAPE],['20px','17px']);(Q||te)&&(re=void 0);let ie=(0,c().useTransform)(oe,[0,p.SCROLL_DISTANCE_COMPACT_LANDSCAPE],[0,5]);(Q||te)&&(ie=void 0);let ne=(0,c().useTransform)(oe,[0,10],[1,0]);(Q||te)&&(ne=void 0);const le={onSelect:z,skipIntroAnimations:D,skipAllAnimations:Y,hasClickOccured:j.hasClickOccurred,isCompactLandscape:ee,motionValueAllTranslateY:ie,motionValueBadgeOpacity:ne,motionValueIconHeight:re,motionValueIconOpacity:ae,motionValueIconScale:ce,motionValueTextTranslateY:se},ue={STAYS:q,EXPERIENCES:U,SERVICES:G};return(0,h.jsxs)("div",{className:k(y.container_common,Z?y.container_compact:y.container_wide,Z&&M&&y.container_compact_longLanguage),ref:X,role:"tablist",onKeyDown:J,children:[(0,s.createElement)(I.default,{...le,title:n.default.t('tabbed_homepage.homes_tab'),accessibleTitle:n.default.t('tabbed_homepage.homes_tab'),isTabSelected:'STAYS'===j.selectedTab,tabId:"STAYS",key:"STAYS",href:'HOMEPAGE'===P?`/homes${V.search}`:void 0,tabRef:B,underlineRef:q,firstVideoSourceMov:j.staysFirstVideoSourceMov,firstVideoSourceWebm:j.staysFirstVideoSourceWebm,secondVideoSourceMov:j.staysSecondVideoSourceMov,secondVideoSourceWebm:j.staysSecondVideoSourceWebm,posterSource:j.staysPosterSource,placement:P,__happoFocus:O}),(0,s.createElement)(I.default,{...le,title:n.default.t('tabbed_homepage.experiences_tab'),accessibleTitle:n.default.t('tabbed_homepage.experiences_tab_accessible_text'),isTabSelected:'EXPERIENCES'===j.selectedTab,tabId:"EXPERIENCES",key:"EXPERIENCES",href:'HOMEPAGE'===P?`/experiences${V.search}`:void 0,tabRef:K,underlineRef:U,firstVideoSourceMov:j.experiencesFirstVideoSourceMov,firstVideoSourceWebm:j.experiencesFirstVideoSourceWebm,secondVideoSourceMov:j.experiencesSecondVideoSourceMov,secondVideoSourceWebm:j.experiencesSecondVideoSourceWebm,placement:P,posterSource:j.experiencesPosterSource}),(0,s.createElement)(I.default,{...le,title:n.default.t('tabbed_homepage.services_tab'),accessibleTitle:n.default.t('tabbed_homepage.services_tab_accessible_text'),isTabSelected:'SERVICES'===j.selectedTab,tabId:"SERVICES",key:"SERVICES",href:'HOMEPAGE'===P?`/services${V.search}`:void 0,tabRef:$,underlineRef:G,firstVideoSourceMov:j.servicesFirstVideoSourceMov,firstVideoSourceWebm:j.servicesFirstVideoSourceWebm,secondVideoSourceMov:j.servicesSecondVideoSourceMov,secondVideoSourceWebm:j.servicesSecondVideoSourceWebm,posterSource:j.servicesPosterSource,placement:P}),!L&&(0,h.jsx)(b.default,{elementsContainerRef:X,elementIdToRef:ue,activeElementId:j.selectedTab,skipIntroAnimations:D,skipAllAnimations:Y})]})}finally{k.f()}};r(d[3]);var s=r(d[4]),n=o(r(d[5])),l=o(r(d[6])),u=r(d[7]),S=o(r(d[8])),_=t(r(d[9])),E=r(d[10]),f=(r(d[11]),r(d[12])),T=r(d[13]),b=o(r(d[14])),C=r(d[15]),A=r(d[16]),R=r(d[17]),p=r(d[18]),I=o(r(d[19])),v=t(r(d[20])),h=r(d[21]),V=r(d[22]);const y={container_common:"c1q7wpad atm_mk_h2mmj6",container_compact:"c1ix5i3l atm_9s_1txwivl atm_fc_1yb4nlp atm_h_1q9ycp6 atm_ks_15vqwwr atm_l8_1e9ahfb atm_l8_kwlumq__kgj4qw atm_l8_1u1pozq__19zp2hh atm_j3_kbqlyw__2ygr2h atm_fc_1b1vv5m__2ygr2h atm_gi_xjk4d9__2ygr2h atm_l8_1y3flwy__2ygr2h atm_ks_ewfl5b__2ygr2h",container_wide:"cearn0u atm_9s_11p5wf0 atm_dz_1a6ah5s atm_fc_1h6ojuz atm_h3_ftgil2 atm_cx_ldb6wv",container_compact_longLanguage:"cogfa60 atm_lk_i-1tcgj5g atm_ll_i-1tcgj5g"}}),"539954",["45f788","ba7a76","8e8be5","ea4b89","07aa1f","a9f4b1","862e50","daa5d1","55221e","e0b071","4786a8","aabdb1","1e300f","4ee5a9","41fbe9","6d0585","f4e9c4","afdc80","71ac3c","980eb3","d0df11","b8c07d","e086eb"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const t=(0,u.default)(l.default.mediumHeightAndAbove.replace('@media ','')),o=(0,u.default)(l.default.mediumAndAbove.replace('@media ',''));if(void 0===t||void 0===o)return{isTall:!1,isShort:!1,isWide:!1,isNarrow:!1};return{isTall:t,isShort:!t,isWide:o,isNarrow:!o}};var u=t(r(d[1])),l=t(r(d[2]))}),"644295",["ba7a76","bf20d8","de2718"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTabBarItemLoggingID=function(t){const c=['/','/homes','/experiences','/services'].includes(window.location.pathname);let n;n='STAYS'===t?c?'product_vertical.Tab.Stays':'explore.SearchInput.SelectVertical.Homes':'EXPERIENCES'===t?c?'product_vertical.Tab.Experiences':'explore.SearchInput.SelectVertical.Experiences':c?'product_vertical.Tab.Services':'explore.SearchInput.SelectVertical.Services';return n}}),"80d344",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,_=r(d[1]).default;function s(){const t=r(d[2]);return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({hasClickOccured:t,href:_,isTabSelected:E,isCompactLandscape:C=!1,onSelect:I,tabId:T,accessibleTitle:A,title:z,placement:V,tabRef:R,underlineRef:B,skipIntroAnimations:N,skipAllAnimations:O,firstVideoSourceMov:L,firstVideoSourceWebm:M,secondVideoSourceMov:P,secondVideoSourceWebm:F,posterSource:Y,motionValueAllTranslateY:H,motionValueBadgeOpacity:D,motionValueIconHeight:X,motionValueIconOpacity:W,motionValueIconScale:$,motionValueTextTranslateY:G,__happoFocus:J=!1}){const K=(0,p.useCx)(),Q=(0,u.default)()===u.FORM_FACTOR.COMPACT,U=!Q,Z=(0,o.default)(),ee=(0,j.default)(),{vibrate:te}=(0,x.useHapticFeedback)(),ae=l.Flagger.isTrebuchetLaunched((0,f.default)('search_input_tabs_videos_kill_switch'))||!ee,_e=(0,b.getTabBarItemLoggingID)(T),se=(0,k.default)(_e),ie=(0,v.useEvent)((t=>{I&&I(T),t.preventDefault(),se()})),ne=['EXPERIENCES','SERVICES'].includes(T),ce=(0,n.useRef)(null),oe=(0,n.useRef)(null),re=(0,n.useRef)(E);let de;de='STAYS'===T?.1:'EXPERIENCES'===T?.25:.4;const me=1e3*de;(0,n.useLayoutEffect)((()=>{if(Z)return;const t=setTimeout((()=>{ce.current&&!N&&ce.current.play()?.catch((()=>{}))}),me-80);return()=>{clearTimeout(t)}}),[Z,me,80,N]),(0,n.useLayoutEffect)((()=>{if(!oe.current||!t||O)return;const _=oe.current;let s;return E?(_.currentTime=0,s=setTimeout((()=>{_.play().catch((()=>{}))}),150)):(_.pause(),_.currentTime=0),()=>{clearTimeout(s)}}),[t,E,O]),(0,n.useEffect)((()=>{if(!oe.current)return;const t=oe.current;h.scheduler.postTask((()=>{0===t.buffered.length&&t.load()}),{event:'all-settled'})}),[oe]);const le={mass:1,stiffness:175,damping:13},fe=(0,s().useSpring)(1,le),ue=(0,n.useCallback)((t=>{O?fe.jump(t):fe.set(t)}),[fe,O]),pe=(0,s().useSpring)(1,le),[he,we]=(0,s().useAnimate)(),ge=(0,n.useRef)(0),ve=(t,_,n)=>{const c=performance.now()-ge.current;c>=150?n?t.jump(_):t.set(_):(0,s().delay)((()=>{n?t.jump(_):t.set(_)}),150-c)},xe=()=>{E||O||(ge.current=performance.now(),ue(.8))},ye=()=>{E||(te(10),ve(fe,1,!!O),U||ve(pe,1,!!O))},be=ye;(0,n.useLayoutEffect)((()=>{E&&!re.current?re.current=!0:!E&&re.current&&(re.current=!1,ue(1))}),[t,E,fe,O,ue]),(0,n.useEffect)((()=>{t||(N?fe.jump(1):Z||(fe.jump(0),(0,s().delay)((()=>{fe.set(1)}),1e3*de),he.current&&we(he.current,{opacity:[0,1]},{delay:de,duration:.15,type:'tween',ease:'linear'})))}),[Z,N,fe,he,we,de,E,1,t]);const je=(0,S.jsx)(s().motion.span,{className:K(q.shared_videoIconContainer),style:{height:X},children:(0,S.jsxs)(o.ShimmerIfSkeleton,{isLoading:Z,width:"100%",height:"100%",cornerRadius:"50%",forceRenderChildren:!0,children:[!t&&(0,S.jsx)("video",{className:K(q.shared_videoScaler,q.shared_firstVideo,q.shared_video_visible),muted:!0,playsInline:!0,poster:Y,ref:ce,preload:"auto","data-testid":"tab-bar-entry-video",children:!O&&!ae&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("source",{src:L,type:"video/mp4; codecs=\"hvc1\""}),(0,S.jsx)("source",{src:M,type:"video/webm"})]})}),!Z&&(0,S.jsx)("video",{className:K(q.shared_videoScaler,q.shared_secondVideo,t?q.shared_video_visible:q.shared_video_invisible),muted:!0,playsInline:!0,poster:Y,ref:oe,preload:"auto",children:!O&&!ae&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("source",{src:P,type:"video/mp4; codecs=\"hvc1\""}),(0,S.jsx)("source",{src:F,type:"video/webm"})]})})]})}),ke={href:_,onClick:ie,role:'tab','aria-selected':E,tabIndex:E?void 0:-1,'data-tabid':`tabBarItem-${T}`,id:`search-block-tab-${T}`},Se='HOMEPAGE'===V?s().motion.a:s().motion.span;if(Q)return(0,S.jsxs)(Se,{...ke,ref:(0,w.default)([he,C?B:void 0,R]),className:K(q.shared_container,q.compact_container),onTap:ye,onTapCancel:be,onPointerDown:xe,style:{translateY:H},"data-happo-focus":J,children:[(0,S.jsx)(s().motion.span,{className:K(q.compact_iconAndBadgeHider),style:{opacity:W,scale:$},"aria-hidden":!0,children:(0,S.jsxs)(s().motion.span,{className:K(q.compact_iconAndBadgeContainer,E&&q.compact_iconAndBadgeContainer_selected),style:{scale:fe,transformOrigin:'bottom'},children:[je,ne&&!Z&&(0,S.jsx)(s().motion.span,{style:{opacity:D},children:(0,S.jsx)(y.default,{skipIntroAnimations:N})})]})}),(0,S.jsxs)(s().motion.span,{className:K(q.compact_texts_container),style:{translateY:G},"aria-hidden":!0,children:[(0,S.jsx)(s().motion.span,{className:K(q.shared_text,E&&q.shared_text_selected,q.compact_text_visible),style:{scale:pe},"data-testid":"compact_text_visible",children:(0,S.jsx)(o.ShimmerIfSkeleton,{isLoading:Z,children:z})}),!Z&&(0,S.jsx)("span",{"aria-hidden":!0,className:K(q.shared_text,q.compact_text_visible,q.compact_text_invisibleBoldOverlaid),ref:C?void 0:B,"data-testid":"compact_text_invisible",children:z})]}),(0,S.jsx)(c.default,{children:A})]});return(0,S.jsxs)(Se,{...ke,className:K(q.shared_container,q.wide_container,'STAYS'===T&&q.wide_container_homes,'SERVICES'===T&&q.wide_container_services),ref:(0,w.default)([B,R]),onMouseEnter:()=>{E||O||ue(1.1)},onMouseLeave:()=>{E||O||ue(1)},onTap:ye,onTapCancel:be,onPointerDown:xe,"data-happo-focus":J,children:[(0,S.jsxs)(s().motion.span,{className:K(q.wide_iconAndBadgeContainer),style:{scale:fe},"aria-hidden":!0,children:[je,ne&&!Z&&(0,S.jsx)(y.default,{skipIntroAnimations:N})]}),(0,S.jsx)("span",{className:K(q.shared_text,E&&q.shared_text_selected,q.shared_text_beforeBold,q.wide_text,'STAYS'===T&&q.wide_text_homes,'EXPERIENCES'===T&&q.wide_text_experiences,'SERVICES'===T&&q.wide_text_services),"data-title":z,"aria-hidden":!0,children:(0,S.jsx)(o.ShimmerIfSkeleton,{children:z})}),(0,S.jsx)(c.default,{children:A})]})};r(d[3]);var n=r(d[4]),c=_(r(d[5])),o=t(r(d[6])),l=r(d[7]),f=_(r(d[8])),u=t(r(d[9])),p=r(d[10]),h=(r(d[11]),r(d[12])),w=(r(d[13]),_(r(d[14]))),v=r(d[15]),x=r(d[16]),y=_(r(d[17])),b=r(d[18]),j=_(r(d[19])),k=_(r(d[20])),S=r(d[21]);const q={shared_container:"s5o62i6 atm_9j_tlke0l atm_vb_glywfm atm_kd_glywfm atm_3f_glywfm_jo46a5 atm_l8_idpfg4_jo46a5 atm_gi_idpfg4_jo46a5 atm_3f_glywfm_1icshfk atm_kd_glywfm_19774hq atm_5j_ftgil2_1w3cfyq atm_kd_19r6f69_1w3cfyq atm_kh_1y44olf_1w3cfyq",shared_videoIconContainer:"simi9jf atm_9s_1ulexfb atm_vy_14noui3 atm_e2_14noui3",shared_videoScaler:"s1kxodx6 atm_jp_1f51e7f atm_jr_1h6ojuz atm_vy_1osqo2v atm_e2_1osqo2v atm_tr_18ws4an atm_mj_glywfm atm_mk_h2mmj6",shared_firstVideo:"s1y8p483 atm_mk_stnw88 atm_tk_idpfg4 atm_fq_idpfg4",shared_video_visible:"stz1the atm_k4_kb7nvz",shared_video_invisible:"sosjxvs atm_k4_idpfg4",shared_secondVideo:"slt01p9 atm_mk_stnw88 atm_tk_idpfg4 atm_fq_idpfg4",shared_text:"sxeg3i2 atm_7l_1esdqks atm_ti_1q9ccgz",shared_text_selected:"sgwsc4z atm_7l_dezgoh atm_cs_wp830q",shared_text_beforeBold:"s1et0buv atm_9s_1ulexfb_vmtskl atm_92_1ahnjlt_vmtskl atm_cs_wp830q_vmtskl atm_e2_idpfg4_vmtskl atm_ks_15vqwwr_vmtskl atm_vl_15vqwwr_vmtskl",compact_container:"c55pwm7 atm_9s_1txwivl atm_ar_1bp4okc atm_h_1h6ojuz atm_jb_88uyrf atm_gq_ftgil2 atm_kd_glywfm atm_3f_glywfm_jo46a5 atm_l8_idpfg4_jo46a5 atm_gi_idpfg4_jo46a5 atm_3f_glywfm_1icshfk atm_kd_glywfm_19774hq atm_uc_aaiy6o_1w3cfyq atm_3f_glywfm_1w3cfyq atm_7l_jt7fhx_1w3cfyq atm_70_1e7pbig_1w3cfyq atm_uc_glywfm_1w3cfyq_1rrf6b5 atm_ar_vrvcex__2ygr2h atm_cx_14y27yu__2ygr2h atm_ll_14y27yu__2ygr2h",compact_iconAndBadgeHider:"cy6g1z4 atm_9s_1txwivl atm_ar_1bp4okc",compact_iconAndBadgeContainer:"c1tfrqzx atm_h3_ftgil2 atm_gq_i2wt44 atm_mk_h2mmj6",compact_iconAndBadgeContainer_selected:"c1e79kgj atm_h3_1y44olf atm_gq_i2wt44",compact_texts_container:"c1dbwz2n atm_mk_h2mmj6",compact_text_visible:"c6avlzg atm_7l_1he744i atm_9s_1ulexfb atm_c8_1fwxnve atm_g3_19bvopo atm_fr_pmt1kr atm_tw_jp4btk",compact_text_invisibleBoldOverlaid:"c10nbchi atm_cs_wp830q atm_mk_stnw88 atm_tk_idpfg4 atm_fq_idpfg4 atm_vl_15vqwwr",wide_container:"w14w6ssu atm_9s_1txwivl atm_h_1h6ojuz atm_gq_1fwxnve",wide_iconAndBadgeContainer:"w1ppews5 atm_mk_h2mmj6",wide_text:"w8uvyjh atm_c8_dlk8xv atm_g3_f6fqlb atm_7l_dezgoh_1nos8r",wide_container_homes:"wz3022t atm_gz_1lpd5c9 atm_lk_14y27yu",wide_container_services:"w1limbpw atm_gz_12gsa0d atm_lk_yh40bf",wide_text_homes:"w45bbkm atm_gz_exct8b",wide_text_experiences:"wrxstyg atm_gz_ftgil2",wide_text_services:"w1wwuwz7 atm_gz_1fwxnve"}}),"980eb3",["45f788","ba7a76","8e8be5","ea4b89","07aa1f","a5b4f5","55221e","dcc72a","2c6bf9","e0b071","4786a8","aabdb1","a2c93f","41fbe9","0f3ea6","f4e9c4","368e1d","0f22c2","80d344","410d1b","275434","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.useOnResize=function({skip:t,element:l,onlyWhen:h,onResize:f}){const{waitForResizeObserver:v}=(0,o.useWaitForResizeObserverPolyfill)(),{scheduler:b}=(0,u.usePostTaskScheduler)(),R=(0,n.useRef)(null),p=(0,n.useRef)(null),z=(0,n.useRef)(null),w=(0,n.useRef)(null),_=(0,c.useEvent)((t=>{let n,u;if(t[0].borderBoxSize?.length){const{blockSize:s,inlineSize:c}=t[0].borderBoxSize[0];u=s,n=c}else u=t[0].contentRect.height,n=t[0].contentRect.width;u!==R.current&&(z.current=R.current,R.current=u),n!==p.current&&(w.current=p.current,p.current=n),h&&!h({entries:t,height:u,previousHeight:z.current,previousWidth:w.current,width:n})||(s.default.getBootstrap('resizeobserver_no_raf_boundary')?f({entries:t,previousHeight:z.current,previousWidth:w.current,width:n,height:u}):b.requestAnimationFrame((()=>{f({entries:t,previousHeight:z.current,previousWidth:w.current,width:n,height:u})})))})),O=(0,n.useRef)(null),k=(0,n.useRef)(l),S=(0,n.useRef)(l?[{element:l}]:[]),W=(0,n.useCallback)(((t,n)=>{O.current?O.current?.observe(t,n):S.current.push({element:t,options:n})}),[]),y=(0,n.useCallback)((t=>{O.current?.unobserve(t)}),[]);k.current!==l&&(k.current&&y(k.current),l&&(W(l),k.current=l));const B=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{if(!t){if(!B.current){if(!('ResizeObserver'in window))return void v().then((()=>{B.current=!0,n()}));B.current=!0}return n(),()=>O.current?.disconnect()}function n(){O.current=new ResizeObserver(_),S.current.forEach((({element:t,options:n})=>{W(t,n)})),S.current=[]}}),[t,B,_,W,v]),{observe:W,unobserve:y}};var n=r(d[1]),u=r(d[2]),s=t(r(d[3])),c=r(d[4]),o=r(d[5])}),"aac0d2",["ba7a76","07aa1f","53bb4a","c235f8","f4e9c4","7f17e4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,s={}){const{initial:c,skip:o=!1}=s,[u,v]=(0,t.useState)(c);return(0,t.useEffect)((()=>{if(!window.matchMedia)return;if(o)return;const t=window.matchMedia(n);v(t.matches);const s=({matches:t})=>v(t);return t.addEventListener?t.addEventListener('change',s):t.addListener(s),()=>{t.removeEventListener?t.removeEventListener('change',s):t.removeListener(s)}}),[n,o]),u};var t=r(d[0])}),"bf20d8",["07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useElementSize=function(u){var s=(0,l.useSignals)(2);try{const{element:s,monitor:c,skip:h,mode:o,onSizeChanged:f,threshold:v=5}=u||{},b=(0,n.useRef)(h),p=(0,n.useRef)(null),k=(0,n.useRef)(null),y=(0,n.useCallback)((n=>{k.current=n}),[]),[S,w]=(0,n.useState)({height:null,width:null,entries:[],previousHeight:null,previousWidth:null,target:null}),R=(0,l.useSignal)({height:null,width:null,entries:[],previousHeight:null,previousWidth:null,target:null}),z=n=>{const l={...n,target:p.current};switch(o){case'callback-only':f?.(l);break;case'signal':R.value=l;break;default:w(l),f?.(l)}},W=({height:n,previousHeight:l,previousWidth:t,width:u})=>{const s=null===l||Math.abs(n-l)>v,h=null===t||Math.abs(u-t)>v;return'height'===c?s:'width'===c?h:h||s},{observe:_,unobserve:C}=(0,t.useOnResize)({skip:h,onlyWhen:W,onResize:z}),H=(0,n.useCallback)(((n,l)=>{p.current!==n&&(p.current&&C(p.current),p.current=n,n&&_(n,l))}),[_,C]);return(0,l.useSignalEffect)((()=>{s&&H(s.value)})),b.current!==h&&(b.current=h,h?(k.current=p.current,H(null)):(H(k.current),k.current=null)),'callback-only'===o?{ref:H}:'signal'===o?{ref:H,dimensions:R}:{...S,ref:h?y:H}}finally{s.f()}};var n=r(d[0]),l=r(d[1]),t=r(d[2])}),"c376e0",["07aa1f","e086eb","aac0d2"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,c){switch(c.type){case'AUTO_SELECT_TAB':return{...s,selectedTab:c.selectedTab,hasClickJustOccurred:!1,staysPosterSource:'STAYS'===c.selectedTab?n:u,experiencesPosterSource:'EXPERIENCES'===c.selectedTab?E:T,servicesPosterSource:'SERVICES'===c.selectedTab?O:R};case'MANUALLY_SELECT_TAB':return{...s,selectedTab:c.selectedTab,hasClickOccurred:!0,hasClickJustOccurred:!0,staysPosterSource:'STAYS'===c.selectedTab?n:u,experiencesPosterSource:'EXPERIENCES'===c.selectedTab?E:T,servicesPosterSource:'SERVICES'===c.selectedTab?O:R};case'UNSET_HAS_CLICK_JUST_OCCURRED':return{...s,hasClickJustOccurred:!1};default:return s}},e.makeInitialTabBarReducerState=function(M){const k='STAYS'===M,x='EXPERIENCES'===M,F='SERVICES'===M;return{selectedTab:M||null,hasClickOccurred:!1,hasClickJustOccurred:!1,staysFirstVideoSourceMov:k?s:o,staysFirstVideoSourceWebm:k?c:t,staysSecondVideoSourceMov:I(b),staysSecondVideoSourceWebm:h,staysPosterSource:k?n:u,experiencesFirstVideoSourceMov:x?l:v,experiencesFirstVideoSourceWebm:x?p:S,experiencesSecondVideoSourceMov:I(w),experiencesSecondVideoSourceWebm:f,experiencesPosterSource:x?E:T,servicesFirstVideoSourceMov:F?A:C,servicesFirstVideoSourceWebm:F?P:_,servicesSecondVideoSourceMov:I(V),servicesSecondVideoSourceWebm:y,servicesPosterSource:F?O:R}};const s='https://a0.muscache.com/videos/search-bar-icons/hevc/house-twirl-selected.mov',c='https://a0.muscache.com/videos/search-bar-icons/webm/house-twirl-selected.webm',o='https://a0.muscache.com/videos/search-bar-icons/hevc/house-twirl.mov',t='https://a0.muscache.com/videos/search-bar-icons/webm/house-twirl.webm',b='https://a0.muscache.com/videos/search-bar-icons/hevc/house-selected.mov',h='https://a0.muscache.com/videos/search-bar-icons/webm/house-selected.webm',n='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/4aae4ed7-5939-4e76-b100-e69440ebeae4.png?im_w=240',u='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/a32adab1-f9df-47e1-a411-bdff91b579c3.png?im_w=240',l='https://a0.muscache.com/videos/search-bar-icons/hevc/balloon-twirl-selected.mov',p='https://a0.muscache.com/videos/search-bar-icons/webm/balloon-twirl-selected.webm',v='https://a0.muscache.com/videos/search-bar-icons/hevc/balloon-twirl.mov',S='https://a0.muscache.com/videos/search-bar-icons/webm/balloon-twirl.webm',w='https://a0.muscache.com/videos/search-bar-icons/hevc/balloon-selected.mov',f='https://a0.muscache.com/videos/search-bar-icons/webm/balloon-selected.webm',E='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/1e24b1c9-b070-48d9-8a70-91aae3151830.png?im_w=240',T='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/e47ab655-027b-4679-b2e6-df1c99a5c33d.png?im_w=240',A='https://a0.muscache.com/videos/search-bar-icons/hevc/consierge-twirl-selected.mov',P='https://a0.muscache.com/videos/search-bar-icons/webm/consierge-twirl-selected.webm',C='https://a0.muscache.com/videos/search-bar-icons/hevc/consierge-twirl.mov',_='https://a0.muscache.com/videos/search-bar-icons/webm/consierge-twirl.webm',V='https://a0.muscache.com/videos/search-bar-icons/hevc/consierge-selected.mov',y='https://a0.muscache.com/videos/search-bar-icons/webm/consierge-selected.webm',O='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/2bf5d36d-e731-4465-a8ef-91abbf2ae8ce.png?im_w=240',R='https://a0.muscache.com/im/pictures/airbnb-platform-assets/AirbnbPlatformAssets-search-bar-icons/original/3d67e9a9-520a-49ee-b439-7b3a75ea814d.png?im_w=240';function I(s){return`${s}#t=0.001`}}),"d0df11",[]);
__r("a9f4b1").extend({"tabbed_homepage.new_badge":"NEW","tabbed_homepage.homes_tab":"Homes","tabbed_homepage.experiences_tab":"Experiences","tabbed_homepage.experiences_tab_accessible_text":"Experiences, new","tabbed_homepage.services_tab":"Services","tabbed_homepage.services_tab_accessible_text":"Services, new"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/search-input-sections/sections/StaysSearchInputHeader/shared/components/TabBar/TabBar.b37fd65fee.js.map